/**
 *
 * @module     block/Notification
 * @package    block_notification
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_notification/calendarcards",["core/templates","core/ajax","jquery"],(function(Templates,Ajax,$){var users;return users={init:function(args){const calendar=document.getElementById("customcalendar");$("#time").val();var year=$("#id_year").val(),month=$("#id_month").val();var monthname=["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(month)-1].substring(0,3),days=new Date(parseInt(year),parseInt(month),0).getDate(),gsDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];for(let i=1;i<=days;i++){const card=document.createElement("div");card.classList.add("card"),card.textContent=i;var newd=new Date(month+"/"+i+"/"+year);console.log(newd),console.log(year+"-"+month+"-"+i);var day=gsDayNames[newd.getDay()];console.log("dayvalue"),console.log(day),card.innerHTML='<div class="datesinfo"><a class="dateslink" href="javascript:void(0)" data-year='+year+" data-month= "+month+" data-day = "+i+' data-courseid=1 data-categoryid=0 ><div class="monthinfo">'+monthname+'</div><div class="dateinfo">'+i+'</div><div class="dayinfo">'+day.substring(0,3)+"</div></a><div>",calendar.appendChild(card)}$(document).on("click",".dateslink",(function(){$(".card").removeClass("active");var parentfirst=$(this).parent(),parentsecond=$(parentfirst).parent();$(parentsecond).addClass("active"),console.log($(this).data()),users.customCalendar($(this).data())}))},customCalendar:function(params){var promise=Ajax.call([{methodname:"block_notification_calendar_details",args:params}]);$("#customcalendardata").empty(),promise[0].done((function(resp){(console.log(resp.events),0==resp.events.length)?$("#customcalendardata").html('<div class="text-center calendar_events attempt_text"><h4>No Events Available on this Date.</></h4></div>'):Templates.render("block_notification/customcalendardata",{events:resp.events}).then((function(html,js){$("#customcalendardata").html(html)}))})).fail((function(ex){console.log(ex)}))},load:function(){$(document).on("change","#id_month , #id_year",(function(){$("#customcalendar").empty(),new users.init;var year=$("#id_year").val(),month=$("#id_month").val(),day=1;let scrollWidth=$("#customcalendar").get(0).scrollWidth;$("#customcalendar").animate({scrollLeft:"-="+scrollWidth+"px"},"slow");const d=new Date;if(parseInt(d.getMonth())+parseInt(1)==month&&(day=$("input[name=day]").val())>9){var scrollval=85*day;$("#customcalendar").animate({scrollLeft:"+="+parseInt(scrollval)+"px"},"slow")}const params={year:year,month:month,day:day,courseid:1,categoryid:0};new users.customCalendar(params),users.active(day)}));var year=$("#id_year").val(),month=$("#id_month").val(),day=$("input[name=day]").val();if(day>9){var scrollval=85*day;$("#customcalendar").animate({scrollLeft:"+="+parseInt(scrollval)+"px"},"slow")}users.active(parseInt(day));const params={year:parseInt(year),month:parseInt(month),day:parseInt(day),courseid:1,categoryid:0};new users.customCalendar(params),$(".horizon-prev").click((function(e){e.preventDefault();$("#customcalendar").get(0).scrollLeft,$("#customcalendar").get(0).scrollWidth;$("#customcalendar").animate({scrollLeft:"-=300px"},"slow")})),$(".horizon-next").click((function(e){e.preventDefault();$("#customcalendar").get(0).scrollLeft,$("#customcalendar").get(0).scrollWidth;$("#customcalendar").animate({scrollLeft:"+=300px"},"slow")}))},active:function(day){$(".dateinfo").each((function(){if($(this).text()==day){var id=$(this).parent().parent().parent();$(id).addClass("active")}}))}}}));

//# sourceMappingURL=calendarcards.min.js.map