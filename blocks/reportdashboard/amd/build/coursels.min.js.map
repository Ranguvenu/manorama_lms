{"version":3,"file":"coursels.min.js","sources":["../src/coursels.js"],"sourcesContent":["/**\r\n * Standard Report wrapper for Moodle. It calls the central JS file for Report plugin,\r\n * Also it includes JS libraries like Select2,Datatables and Highcharts\r\n * @module     block_learnerscript/report\r\n * @class      report\r\n * @package    block_learnerscript\r\n * @copyright  2017 Naveen kumar <naveen@eabyas.in>\r\n * @since      3.3\r\n */\r\ndefine(['block_learnerscript/ajax', 'jquery', 'block_learnerscript/report', 'block_reportdashboard/radioslider','block_reportdashboard/flatpickr'],\r\n    function(ajax, $, report, RadiosToSlider, flatpickr) {\r\n        var coursels;\r\n        return coursels = {\r\n            init: function() {\r\n                this.BootSideMenu({refreshdashboard:1, side:'right', title:'Course Statistics', width:'30%'});\r\n            },\r\n            CourseInsights: function(){\r\n                // $('#internalbsm1').append($(\"#reportloading\").text());\r\n                    var dlg = $(\"#internalbsm1\").dialog({\r\n                        resizable: true,\r\n                        autoOpen: false,\r\n                        width: '50%',\r\n                        title: '',\r\n                        modal: true,\r\n                        show: {\r\n                            effect: \"slide\",\r\n                            duration: 1000\r\n                        },\r\n                        position: {\r\n                            my: \"left\",\r\n                            at: \"top\",\r\n                            of: \"body\"\r\n                        },\r\n                        create: function( event, ui ) {\r\n                            $('.ui-dialog').css('z-index',9999);\r\n                        },\r\n                        open: function(event){\r\n\r\n                            RadiosToSlider.init($('#segmented-button'), {\r\n                                size: 'medium',\r\n                                animation: true,\r\n                                // onSelect: report.DurationFilter(this)\r\n                            });\r\n                            flatpickr('#customrange',{\r\n                                mode: 'range',\r\n                                onChange: function(selectedDates, dateStr, instance) {\r\n                                    $('#ls_fstartdate').val(selectedDates[0].getTime() / 1000);\r\n                                    $('#ls_fenddate').val(selectedDates[1].getTime() / 1000);\r\n                                    require(['block_learnerscript/report'], function(reportjs) {\r\n                                        reportjs.DashboardTiles();\r\n                                        reportjs.DashboardWidgets();\r\n                                    });\r\n                                }\r\n                            });\r\n                            require(['block_learnerscript/report'], function(reportjs) {\r\n                                reportjs.DashboardTiles();\r\n                                reportjs.DashboardWidgets();\r\n                            });\r\n                            $(document).ajaxStop(function() {\r\n                                $(\".loader\").fadeOut(\"slow\");\r\n                            });\r\n                        },\r\n                        close: function(event, ui) {\r\n                            $(this).dialog('destroy');\r\n                            $(\".report_dashboard_container\").html('');\r\n                            $(\".plotreport_dashboard_container\").html('');\r\n                        }\r\n                    });\r\n                    $( document ).ajaxComplete(function() {\r\n                      $(\"#reportloading\").hide();\r\n                    });\r\n                    dlg.dialog(\"open\");\r\n                },\r\n            BootSideMenu: function(userOptions) {\r\n                var placeholder = $('#internalbsm');\r\n                var initialCode;\r\n                var newCode;\r\n                var menu;\r\n                var prevStatus;\r\n                var body = {};\r\n\r\n                var defaults = {\r\n                    side: \"left\",\r\n                    duration: 500,\r\n                    autoClose: true,\r\n                    pushBody: false,\r\n                    closeOnClick: true,\r\n                    remember: false,\r\n                    width: userOptions.width,\r\n                    onTogglerClick: function() {\r\n                        //code to be executed when the toggler arrow was clicked\r\n                    },\r\n                    onBeforeOpen: function() {\r\n                        //code to be executed before menu open\r\n                    },\r\n                    onBeforeClose: function() {\r\n                        //code to be executed before menu close\r\n                    },\r\n                    onOpen: function() {\r\n                        //code to be executed after menu open\r\n                        if(userOptions.refreshdashboard){\r\n                            report.DashboardTiles();\r\n                            report.DashboardWidgets();\r\n                        }\r\n                    },\r\n                    onClose: function() {\r\n                        //code to be executed after menu close\r\n                    },\r\n                    onStartup: function() {\r\n                        //code to be executed when the plugin is called\r\n                    }\r\n                };\r\n\r\n                var options = $.extend({}, defaults, userOptions);\r\n\r\n\r\n                body.originalMarginLeft = $(\"body\").css(\"margin-left\");\r\n                body.originalMarginRight = $(\"body\").css(\"margin-right\");\r\n                body.width = $(\"body\").width();\r\n\r\n                initialCode = placeholder.html();\r\n\r\n                newCode = \" <div class=\\\"menu-wrapper\\\">\\n\" + initialCode + \" </div>\";\r\n                newCode += \"<div class=\\\"toggler\\\" data-whois=\\\"toggler\\\">\";\r\n                newCode += \" \"+ options.title + \"\";\r\n                newCode += \"</div>\";\r\n\r\n                placeholder.empty();\r\n                placeholder.append(newCode);\r\n\r\n                menu = $(placeholder);\r\n\r\n                menu.addClass(\"container\");\r\n                menu.addClass(\"bootsidemenu\");\r\n                menu.css(\"width\", options.width);\r\n\r\n                if (options.side == \"left\") {\r\n                    menu.addClass(\"bootsidemenu-left\");\r\n                } else if (options.side == \"right\") {\r\n                    menu.addClass(\"bootsidemenu-right\");\r\n                }\r\n\r\n                menu.id = menu.attr(\"id\");\r\n                menu.cookieName = \"bsm2-\" + menu.id;\r\n                menu.toggler = $(menu.children()[1]);\r\n                menu.originalPushBody = options.pushBody;\r\n                menu.originalCloseOnClick = options.closeOnClick;\r\n\r\n\r\n                if (options.remember) {\r\n                    prevStatus = this.readCookie(menu.cookieName);\r\n                } else {\r\n                    prevStatus = null;\r\n                }\r\n\r\n\r\n                this.forSmallBody(options, menu);\r\n\r\n                switch (prevStatus) {\r\n                    case \"opened\":\r\n                        this.startOpened(options, menu);\r\n                        break;\r\n                    case \"closed\":\r\n                        this.startClosed(options, menu);\r\n                        break;\r\n                    default:\r\n                        this.startDefault(options, menu);\r\n                        break;\r\n                }\r\n\r\n                if (options.onStartup !== undefined) {\r\n                    options.onStartup(menu);\r\n                }\r\n\r\n                $(\"[data-toggle=\\\"collapse\\\"]\", menu).each(function() {\r\n                    var icona = $(\"<span class=\\\"glyphicon glyphicon-chevron-right\\\"></span>\");\r\n                    $(placeholder).prepend(icona);\r\n                });\r\n\r\n                menu.off(\"click\", \"[data-whois=toggler]\");\r\n                menu.on(\"click\", \"[data-whois=toggler]\", function() {\r\n                    coursels.toggle(options, menu, body);\r\n                    if (options.onTogglerClick !== undefined) {\r\n                        options.onTogglerClick(menu);\r\n                    }\r\n                });\r\n\r\n                menu.off(\"click\", \".list-group-item\");\r\n                menu.on(\"click\", \".list-group-item\", function() {\r\n                    menu.find(\".list-group-item\").each(function() {\r\n                        $(placeholder).removeClass(\"active\");\r\n                    });\r\n                    $(placeholder).addClass(\"active\");\r\n                    $(\".glyphicon\", placeholder).toggleClass(\"glyphicon-chevron-right\").toggleClass(\"glyphicon-chevron-down\");\r\n                });\r\n\r\n\r\n                menu.off(\"click\", \"a.list-group-item\");\r\n                menu.on(\"click\", \"a.list-group-item\", function() {\r\n                    if (options.closeOnClick) {\r\n                        if ($(placeholder).attr(\"data-toggle\") != \"collapse\") {\r\n                            this.closeMenu(true, options, menu);\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            ToggleArea: function() {\r\n                var container = $(\"#internalbsm\");\r\n                var listaClassi = container[0].classList;\r\n                var side = this.getSide(listaClassi);\r\n                var containerWidth = container.width();\r\n                var status = container.attr('data-status');\r\n                if (!status) {\r\n                    status = \"opened\";\r\n                }\r\n                if (status === 'closed') {\r\n                    report.DashboardTiles();\r\n                    report.DashboardWidgets();\r\n                }\r\n                this.doAnimation(container, containerWidth, side, status);\r\n            },\r\n            /*Cerca un div con classe submenu e id uguale a quello passato*/\r\n            searchSubMenu: function(id) {\r\n                var found = false;\r\n                $('.submenu').each(function() {\r\n                    var thisId = $(this).attr('id');\r\n                    if (id == thisId) {\r\n                        found = true;\r\n                    }\r\n                });\r\n                return found;\r\n            },\r\n            readCookie: function(nome) {\r\n                var name = nome + \"=\";\r\n                var ca = document.cookie.split(\";\");\r\n                for (var i = 0; i < ca.length; i++) {\r\n                    var c = ca[i];\r\n                    while (c.charAt(0) == \" \")\r\n                        c = c.substring(1);\r\n                    if (c.indexOf(name) == 0) return c.substring(name.length, c.length);\r\n                }\r\n                return null;\r\n            },\r\n            startDefault: function(options, menu) {\r\n                if (options.side == \"left\") {\r\n                    if (options.autoClose) {\r\n                        menu.status = \"closed\";\r\n                        menu.hide().animate({\r\n                            left: -(menu.width() + 2)\r\n                        }, 1, function() {\r\n                            menu.show();\r\n                            //this.switchArrow(\"left\",menu);\r\n                        });\r\n                    } else if (!options.autoClose) {\r\n                        //this.switchArrow(\"right\",menu);\r\n                        menu.status = \"opened\";\r\n                        if (options.pushBody) {\r\n                            $(\"body\").css(\"margin-left\", menu.width() + 20);\r\n                        }\r\n                    }\r\n                } else if (options.side == \"right\") {\r\n                    if (options.autoClose) {\r\n                        menu.status = \"closed\";\r\n                        menu.hide().animate({\r\n                            right: -(menu.width() + 2)\r\n                        }, 1, function() {\r\n                            menu.show();\r\n                            // this.switchArrow(\"right\",menu);\r\n                        });\r\n                    } else {\r\n                        // this.switchArrow(\"left\",menu);\r\n                        menu.status = \"opened\";\r\n                        if (options.pushBody) {\r\n                            $(\"body\").css(\"margin-right\", menu.width() + 20);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            startClosed: function(options, menu) {\r\n                if (options.side == \"left\") {\r\n                    menu.status = \"closed\";\r\n                    menu.hide().animate({\r\n                        left: -(menu.width() + 2)\r\n                    }, 1, function() {\r\n                        menu.show();\r\n                        //  this.switchArrow(\"left\",menu);\r\n                    });\r\n                } else if (options.side == \"right\") {\r\n                    menu.status = \"closed\";\r\n                    menu.hide().animate({\r\n                        right: -(menu.width() + 2)\r\n                    }, 1, function() {\r\n                        menu.show();\r\n                        // this.switchArrow(\"right\",menu);\r\n                    })\r\n                }\r\n            },\r\n\r\n            startOpened: function(options, menu) {\r\n                if (options.side == \"left\") {\r\n                    // this.switchArrow(\"right\",menu);\r\n                    menu.status = \"opened\";\r\n                    if (options.pushBody) {\r\n                        $(\"body\").css(\"margin-left\", menu.width() + 20);\r\n                    }\r\n\r\n                } else if (options.side == \"right\") {\r\n                    //  this.switchArrow(\"left\",menu);\r\n                    menu.status = \"opened\";\r\n                    if (options.pushBody) {\r\n                        $(\"body\").css(\"margin-right\", menu.width() + 20);\r\n                    }\r\n                }\r\n            },\r\n            switchArrow: function(side, menu) {\r\n                var span = menu.toggler.find(\"span.glyphicon\");\r\n                if (side == \"left\") {\r\n                    span.removeClass(\"glyphicon-chevron-left\").addClass(\"glyphicon-chevron-right\");\r\n                } else if (side == \"right\") {\r\n                    span.removeClass(\"glyphicon-chevron-right\").addClass(\"glyphicon-chevron-left\");\r\n                }\r\n            },\r\n            forSmallBody: function(options, menu) {\r\n                var windowWidth = $(window).width();\r\n\r\n                if (windowWidth <= 480) {\r\n                    options.pushBody = false;\r\n                    options.closeOnClick = true;\r\n                } else {\r\n                    options.pushBody = menu.originalPushBody;\r\n                    options.closeOnClick = menu.originalCloseOnClick;\r\n                }\r\n            },\r\n            //restituisce il lato del sidebar in base alla classe che trova settata\r\n            getSide: function(listaClassi) {\r\n                var side;\r\n                for (var i = 0; i < listaClassi.length; i++) {\r\n                    if (listaClassi[i] == 'sidebar-left') {\r\n                        side = \"left\";\r\n                        break;\r\n                    } else if (listaClassi[i] == 'sidebar-right') {\r\n                        side = \"right\";\r\n                        break;\r\n                    } else {\r\n                        side = null;\r\n                    }\r\n                }\r\n                return side;\r\n            },\r\n            //esegue l'animazione\r\n            doAnimation: function(container, containerWidth, sidebarSide, sidebarStatus) {\r\n                var toggler = container.children()[1];\r\n                if (sidebarStatus == \"opened\") {\r\n                    if (sidebarSide == \"left\") {\r\n                        container.animate({\r\n                            left: -(containerWidth + 2)\r\n                        });\r\n                        this.toggleArrow(toggler, \"left\");\r\n                    } else if (sidebarSide == \"right\") {\r\n                        container.animate({\r\n                            right: -(containerWidth + 2)\r\n                        });\r\n                        this.toggleArrow(toggler, \"right\");\r\n                    }\r\n                    container.attr('data-status', 'closed');\r\n                } else {\r\n                    if (sidebarSide == \"left\") {\r\n                        container.animate({\r\n                            left: 0\r\n                        });\r\n                        this.toggleArrow(toggler, \"right\");\r\n                    } else if (sidebarSide == \"right\") {\r\n                        container.animate({\r\n                            right: 0\r\n                        });\r\n                        this.toggleArrow(toggler, \"left\");\r\n                    }\r\n                    container.attr('data-status', 'opened');\r\n                }\r\n            },\r\n            toggle: function(options, menu, body) {\r\n                if (menu.status == \"opened\") {\r\n                    this.closeMenu(true, options, menu, body);\r\n                } else {\r\n                    this.openMenu(true, options, menu, body);\r\n                }\r\n            },\r\n            closeMenu: function(execFunctions, options, menu, body) {\r\n                if (execFunctions) {\r\n                    if (options.onBeforeClose !== undefined) {\r\n                        options.onBeforeClose(menu);\r\n                    }\r\n                }\r\n                if (options.side == \"left\") {\r\n\r\n                    if (options.pushBody) {\r\n                        $(\"body\").animate({\r\n                            marginLeft: body.originalMarginLeft\r\n                        }, {\r\n                            duration: options.duration\r\n                        });\r\n                    }\r\n\r\n                    menu.animate({\r\n                        left: -(menu.width() + 2)\r\n                    }, {\r\n                        duration: options.duration,\r\n                        done: function() {\r\n                            // switchArrow(\"left\");\r\n                            menu.status = \"closed\";\r\n\r\n                            if (execFunctions) {\r\n                                if (options.onClose !== undefined) {\r\n                                    options.onClose(menu);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                } else if (options.side == \"right\") {\r\n\r\n                    if (options.pushBody) {\r\n                        $(\"body\").animate({\r\n                            marginRight: body.originalMarginRight\r\n                        }, {\r\n                            duration: options.duration\r\n                        });\r\n                    }\r\n\r\n                    menu.animate({\r\n                        right: -(menu.width() + 2)\r\n                    }, {\r\n                        duration: options.duration,\r\n                        done: function() {\r\n                            // switchArrow(\"right\");\r\n                            menu.status = \"closed\";\r\n\r\n                            if (execFunctions) {\r\n                                if (options.onClose !== undefined) {\r\n                                    options.onClose(menu);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (options.remember) {\r\n                    this.storeCookie(menu.cookieName, \"closed\");\r\n                }\r\n\r\n            },\r\n            storeCookie: function(nome, valore) {\r\n                var d = new Date();\r\n                d.setTime(d.getTime() + (24 * 60 * 60 * 1000));\r\n                var expires = \"expires=\" + d.toUTCString();\r\n                document.cookie = nome + \"=\" + valore + \"; \" + expires + \"; path=/\";\r\n            },\r\n            openMenu: function(execFunctions, options, menu, body) {\r\n\r\n                if (execFunctions) {\r\n                    if (options.onBeforeOpen !== undefined) {\r\n                        options.onBeforeOpen(menu);\r\n                    }\r\n                }\r\n\r\n                if (options.side == \"left\") {\r\n\r\n                    if (options.pushBody) {\r\n                        $(\"body\").animate({\r\n                            marginLeft: menu.width() + 20\r\n                        }, {\r\n                            duration: options.duration\r\n                        });\r\n                    }\r\n\r\n                    menu.animate({\r\n                        left: 0\r\n                    }, {\r\n                        duration: options.duration,\r\n                        done: function() {\r\n                            //switchArrow(\"right\");\r\n                            menu.status = \"opened\";\r\n\r\n                            if (execFunctions) {\r\n                                if (options.onOpen !== undefined) {\r\n                                    options.onOpen(menu);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                } else if (options.side == \"right\") {\r\n\r\n                    if (options.pushBody) {\r\n                        $(\"body\").animate({\r\n                            marginRight: menu.width() + 20\r\n                        }, {\r\n                            duration: options.duration\r\n                        });\r\n                    }\r\n\r\n                    menu.animate({\r\n                        right: 0\r\n                    }, {\r\n                        duration: options.duration,\r\n                        done: function() {\r\n                            // switchArrow(\"left\");\r\n                            menu.status = \"opened\";\r\n\r\n                            if (execFunctions) {\r\n                                if (options.onOpen !== undefined) {\r\n                                    options.onOpen(menu);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (options.remember) {\r\n                    this.storeCookie(menu.cookieName, \"opened\");\r\n                }\r\n            },\r\n            toggleArrow: function(toggler, side) {\r\n                if (side == \"left\") {\r\n                    $(toggler).children(\".glyphicon-chevron-right\").css('display', 'block');\r\n                    $(toggler).children(\".glyphicon-chevron-left\").css('display', 'none');\r\n                } else if (side == \"right\") {\r\n                    $(toggler).children(\".glyphicon-chevron-left\").css('display', 'block');\r\n                    $(toggler).children(\".glyphicon-chevron-right\").css('display', 'none');\r\n                }\r\n            }\r\n        };\r\n    });"],"names":["define","ajax","$","report","RadiosToSlider","flatpickr","coursels","init","this","BootSideMenu","refreshdashboard","side","title","width","CourseInsights","dlg","dialog","resizable","autoOpen","modal","show","effect","duration","position","my","at","of","create","event","ui","css","open","size","animation","mode","onChange","selectedDates","dateStr","instance","val","getTime","require","reportjs","DashboardTiles","DashboardWidgets","document","ajaxStop","fadeOut","close","html","ajaxComplete","hide","userOptions","newCode","menu","prevStatus","placeholder","body","defaults","autoClose","pushBody","closeOnClick","remember","onTogglerClick","onBeforeOpen","onBeforeClose","onOpen","onClose","onStartup","options","extend","originalMarginLeft","originalMarginRight","empty","append","addClass","id","attr","cookieName","toggler","children","originalPushBody","originalCloseOnClick","readCookie","forSmallBody","startOpened","startClosed","startDefault","undefined","each","icona","prepend","off","on","toggle","find","removeClass","toggleClass","closeMenu","ToggleArea","container","listaClassi","classList","getSide","containerWidth","status","doAnimation","searchSubMenu","found","thisId","nome","name","ca","cookie","split","i","length","c","charAt","substring","indexOf","animate","left","right","switchArrow","span","window","sidebarSide","sidebarStatus","toggleArrow","openMenu","execFunctions","marginLeft","done","marginRight","storeCookie","valore","d","Date","setTime","expires","toUTCString"],"mappings":"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"}