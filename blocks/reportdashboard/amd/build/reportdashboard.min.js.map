{"version":3,"file":"reportdashboard.min.js","sources":["../src/reportdashboard.js"],"sourcesContent":["define(['core/ajax',\r\n        'core/templates',\r\n        'block_learnerscript/report',\r\n        'block_learnerscript/reportwidget',\r\n        'block_learnerscript/schedule',\r\n        'block_learnerscript/helper',\r\n        'block_learnerscript/ajax',\r\n        'block_learnerscript/select2',\r\n        'block_learnerscript/jquery.dataTables',\r\n        'block_learnerscript/radioslider',\r\n        'block_learnerscript/flatpickr',\r\n        'core/str',\r\n        'jquery',\r\n        'jqueryui',\r\n        'block_learnerscript/bootstrapnotify',\r\n        'block_reportdashboard/inplace_editable'\r\n    ],\r\n    function(Ajax, Templates, report, reportwidget, schedule, helper, ajax, select2, DataTable,RadiosToSlider,flatpickr, Str, $) {\r\n        return {\r\n            init: function() {\r\n                    $(document).ajaxStop(function() {\r\n                         $(\".loader\").fadeOut(\"slow\");\r\n                    });\r\n                    helper.Select2Ajax({});\r\n\r\n                    $(\".dashboardgoals\").change(function(){\r\n                        var goalid = $(this).val();\r\n                        $(\".report_goals\").val(goalid);\r\n                        var args = {};\r\n                        args.action = 'boardslist';\r\n                        args.goalid = goalid;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#dashboardboards\").html(template);\r\n                            $(\"#dashboardboards\").val($(' #dashboardboards option:eq(0)').val());\r\n                            $(\"#dashboardboards\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n                    $(\".dashboardboards\").change(function(){\r\n                        var boardid = $(this).val();\r\n                        $(\".report_boards\").val(boardid);\r\n                        var args = {};\r\n                        args.action = 'classeslist';\r\n                        args.boardid = boardid;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#dashboardclasses\").html(template);\r\n                            $(\"#dashboardclasses\").val($(' #dashboardclasses option:eq(0)').val());\r\n                            $(\"#dashboardclasses\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n                    $(\".dashboardclasses\").change(function(){\r\n                        var classid = $(this).val();\r\n                        $(\".report_classes\").val(classid);\r\n                        var args = {};\r\n                        args.action = 'subjectslist';\r\n                        args.classid = classid;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#dashboardsubjects\").html(template);\r\n                            $(\"#dashboardsubjects\").val($(' #dashboardsubjects option:eq(0)').val());\r\n                            $(\"#dashboardsubjects\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n                    $(\".dashboardsubjects\").change(function(){\r\n                        var subjectid = $(this).val();\r\n                        $(\".report_subjects\").val(subjectid);\r\n                        var args = {};\r\n                        args.action = 'batcheslist';\r\n                        args.subjectid = subjectid;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#dashboardbatches\").html(template);\r\n                            $(\"#dashboardbatches\").val($(' #dashboardbatches option:eq(0)').val());\r\n                            $(\"#dashboardbatches\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n                    $(\".dashboardbatches\").change(function(){\r\n                        var batchid = $(this).val();\r\n                        $(\".report_batches\").val(batchid);\r\n                        var promise = Ajax.call([{\r\n                            methodname: 'block_reportdashboard_studentsdetails_view',\r\n                             args: {\r\n                                batchid: batchid,\r\n                            },\r\n                        }]);\r\n                        promise[0].done(function(response) {\r\n                            var dashboardcourseid = response.courseid;\r\n                            $(\".report_courses\").val(dashboardcourseid);\r\n                            Templates.render('block_reportdashboard/coursestudentsinfo', response).done(function(html, js) {\r\n                                Templates.replaceNodeContents('#admindashboarddetails', html, js);\r\n                            });\r\n\r\n                            var args = {};\r\n                            args.action = 'chapterslist';\r\n                            args.courseid = dashboardcourseid;\r\n                            senddata = JSON.stringify(args);\r\n                            var promise = ajax.call({\r\n                                args:args,\r\n                                url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                            });\r\n                            promise.done(function(response) {\r\n                                var template = '';\r\n                                $.each(response, function(key, value) {\r\n                                    template += '<option value = ' + key + '>' + value + '</option>';\r\n                                });\r\n                                $(\"#id_filter_chapters\").html(template);\r\n                                $(\"#id_filter_chapters\").val($(' #id_filter_chapters option:eq(0)').val());\r\n                                $(\"#id_filter_chapters\").trigger('change');\r\n                            });\r\n                            $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                        });\r\n                    });\r\n                    $(\".dashboardcourses\").change(function(){\r\n                        var courseid = $(this).val();\r\n                        $(\".report_courses\").val(courseid);\r\n                        reportwidget.DashboardTiles();\r\n                        reportwidget.DashboardWidgets();\r\n                        $(\".viewmore\").each(function(){\r\n                            var ahref = $(this).attr('href');\r\n                        });\r\n                    });\r\n\r\n                    $( \"#createdashbaord_form\" ).submit(function( event ) {\r\n                        var dashboardname = $( \"#id_dashboard\" ).val();\r\n                        var name = dashboardname.trim();\r\n                        if(name == '' || name == null){\r\n                            $( \"#id_error_dashboard\" ).css('display', 'block');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                            event.preventDefault();\r\n                        }\r\n                        spaceexist = name.indexOf(\" \");\r\n                        if(spaceexist > 0 && spaceexist != ''){\r\n                            $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'block');\r\n                            event.preventDefault();\r\n                        }\r\n                    });\r\n\r\n                $.ui.dialog.prototype._focusTabbable = $.noop;\r\n                var DheaderPosition = $(\"#dashboard-header\").position();\r\n                $(\".sidenav\").offset({top: 0});\r\n                $(\"#internalbsm\").offset({top: DheaderPosition.top});\r\n                /**\r\n                * Select2 Options\r\n                */\r\n                $(\"select[data-select2='1']\").select2();\r\n                helper.Select2Ajax({\r\n                    action: 'reportlist',\r\n                    multiple: true\r\n                });\r\n               /**\r\n                * Filter area\r\n                */\r\n                $(document).on('click',\".filterform #id_filter_clear\",function(e) {\r\n                    $(this).parents('.mform').trigger(\"reset\");\r\n                    var activityelement = $(this).parents('.mform').find('#id_filter_activities');\r\n                    var instancelement = $(this).parents('.block_reportdashboard').find('.report_dashboard_container');\r\n                    var reportid = instancelement.data('reportid');\r\n                    var reporttype = instancelement.data('reporttype');\r\n                    var instanceid = instancelement.data('blockinstance');\r\n                    var userelement = $(this).parents('.mform').find('#id_filter_users');\r\n                    smartfilter.CourseActivities({ courseid: 0,element: activityelement });\r\n                    $(\".filterform select[data-select2-ajax='1']\").val('0').trigger('change');\r\n                    $('.filterform')[0].reset();\r\n                    $(\".filterform #id_filter_clear\").attr('disabled', 'disabled');\r\n                    reportwidget.CreateDashboardwidget({reportid: reportid, reporttype: reporttype, instanceid: instanceid});\r\n                });\r\n                $(document).on('change', \"select[name='filter_coursecategories']\", function(){\r\n                    var categoryid = this.value;\r\n                    var courseelement = $(this).closest('.mform').find('#id_filter_courses');\r\n                    if(courseelement.length != 0){\r\n                        smartfilter.categoryCourses({ categoryid: categoryid ,element: courseelement});\r\n                    }\r\n                });\r\n                $(document).on('change', \"select[name='filter_courses']\", function(){\r\n                    var courseid = this.value;\r\n                    var activityelement = $(this).closest('.mform').find('#id_filter_activities');\r\n                    var userelement = $(this).closest('.mform').find('#id_filter_users');\r\n                    if(activityelement.length != 0){\r\n                        smartfilter.CourseActivities({ courseid: courseid ,element: activityelement});\r\n                    }\r\n                });\r\n\r\n                /**\r\n                * Duration buttons\r\n                */\r\n                RadiosToSlider.init($('#segmented-button'), {\r\n                    size: 'medium',\r\n                    animation: true,\r\n                    reportdashboard: true\r\n                });\r\n                /**\r\n                * Duration Filter\r\n                */\r\n                flatpickr('#customrange',{\r\n                    mode: 'range',\r\n                    onOpen: function(selectedDates, dateStr,instance){\r\n                        instance.clear();\r\n                    },\r\n                    onClose: function(selectedDates, dateStr, instance) {\r\n                        $('#ls_fstartdate').val(selectedDates[0].getTime() / 1000);\r\n                        $('#ls_fenddate').val((selectedDates[1].getTime() / 1000) + (60 * 60 * 24));\r\n                        require(['block_learnerscript/reportwidget'], function(reportjs) {\r\n                            reportwidget.DashboardTiles();\r\n                            reportwidget.DashboardWidgets();\r\n                        });\r\n                    }\r\n                });\r\n                /**\r\n                 * Escape dropdown on click of window\r\n                 */\r\n                window.onclick = function(event) {\r\n                    if (!event.target.matches('.dropbtn')) {\r\n                        var dropdowns = document.getElementsByClassName(\"dropdown-content\");\r\n                        var i;\r\n                        for (i = 0; i < dropdowns.length; i++) {\r\n                            var openDropdown = dropdowns[i];\r\n                            if ($(openDropdown).hasClass('show')) {\r\n                                $(openDropdown).toggleClass('show');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * Add reports as blocks to dashboard\r\n             * @return {[type]} [description]\r\n             */\r\n            datefilters: function(args) {\r\n               var lsstartdate =  args.startdate ? (new Date(args.startdate).getTime() / 1000) : 0;\r\n                        var lsduedate =  args.duedate ? (new Date(args.duedate).getTime() / 1000) : 0;\r\n                        var startdate =  args.startdate;\r\n                        var duedate =  args.duedate; \r\n                        var packageid =  args.packageid;\r\n                        var userid =  args.userid;\r\n                        var promise = Ajax.call([{\r\n                            methodname: 'block_reportdashboard_coursedatedateselect_view',\r\n                             args: {\r\n                                packageid: packageid,\r\n                                userid: userid,\r\n                                startdate: startdate,\r\n                                duedate: duedate,\r\n                                lsstartdate: lsstartdate,\r\n                                lsduedate: lsduedate\r\n                            },\r\n                        }]);\r\n                        promise[0].done(function(response) {\r\n                            Templates.render('block_reportdashboard/studentdashboard', response.records).done(function(html, js) {\r\n                                Templates.replaceNodeContents('#student_dashboard_container', html, js);\r\n                            });\r\n                        });\r\n            },\r\n            coursetabsdata: function(args) {\r\n                        var courseid = args.courseid;\r\n                        var userid = args.userid;\r\n                        var startdate = args.startdate;\r\n                        var duedate = args.duedate;\r\n                        var lsstartdate = args.lsstartdate;\r\n                        var lsduedate = args.lsduedate;\r\n                        var promise = Ajax.call([{\r\n                            methodname: 'block_reportdashboard_coursetabs_data',\r\n                             args: {\r\n                                courseid: courseid,\r\n                                userid: userid,\r\n                                startdate: startdate,\r\n                                duedate: duedate,\r\n                                lsstartdate: lsstartdate,\r\n                                lsduedate: lsduedate, \r\n\r\n                            },\r\n                        }]);\r\n                        promise[0].done(function(response) {\r\n                            $(\".report_courses\").val(response.records.courseid);\r\n                            $(\".report_users\").val(response.records.userid);\r\n                            Templates.render('block_reportdashboard/studentprofile/coursetabsdata', response).done(function(html, js) {\r\n                                Templates.replaceNodeContents('#myTabContent', html, js);\r\n                            });\r\n                        });\r\n            },\r\n            addblocks_to_dashboard: function() {\r\n                Str.get_string('addblockstodashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    if($('.reportslist').html().length > 0){\r\n                        console.log(\"here\");\r\n                         $('.reportslist').dialog();\r\n                    } else{\r\n\r\n                    $.urlParam = function(name){\r\n                    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\r\n                    if (results === null || results == ' ' ){\r\n                       return null;\r\n                    } else{\r\n                       return results[1] || 0;\r\n                    }\r\n                }\r\n                var role=$.urlParam('role');\r\n                var dashboardurl=$.urlParam('dashboardurl');\r\n                var contextlevel=$.urlParam('contextlevel');\r\n                var promise = Ajax.call([{\r\n                    methodname: 'block_reportdashboard_addwidget_to_dashboard',\r\n                    args: {\r\n                        role: role,\r\n                        dashboardurl: dashboardurl,\r\n                        contextlevel: contextlevel,\r\n                    },\r\n                }]);\r\n                promise[0].done(function(response) {\r\n                    var widget_title_img = \"<img class='dialog_title_icon' alt='Add Widgets' src='\" +\r\n                        M.util.image_url(\"add_widgets_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.reportslist').dialog({\r\n                        title: 'Add widgets to dashboard',\r\n                        modal: true,\r\n                        minWidth: 700,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.reportslist').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                    $('.reportslist').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(widget_title_img + 'Add widgets to dashboard');\r\n                     resp = JSON.parse(response);\r\n                     console.log(resp);\r\n                    $('.reportslist').html(resp);\r\n                }).fail(function(ex) {\r\n                    // do something with the exception\r\n                     console.log('Add Tiles');\r\n                });\r\n            }\r\n                });\r\n            },\r\n            addtiles_to_dashboard: function() {\r\n                Str.get_string('addtilestodashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    if($('.statistics_reportslist').html().length > 0) {\r\n                        $('.statistics_reportslist').dialog();\r\n                    } else {\r\n                     $.urlParam = function(name){\r\n                    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\r\n                    if (results === null || results == ' ' ){\r\n                       return null;\r\n                    } else{\r\n                       return results[1] || 0;\r\n                    }\r\n                }\r\n\r\n                var role=$.urlParam('role');\r\n                var dashboardurl=$.urlParam('dashboardurl');\r\n                var contextlevel=$.urlParam('contextlevel');\r\n                var promise = Ajax.call([{\r\n                    methodname: 'block_reportdashboard_addtiles_to_dashboard',\r\n                     args: {\r\n                        role: role,\r\n                        dashboardurl: dashboardurl,\r\n                        contextlevel: contextlevel,\r\n                    },\r\n                }]);\r\n                 promise[0].done(function(response) {\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add Tiles' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.statistics_reportslist').dialog({\r\n                        title: 'Add tiles to dashboard',\r\n                        modal: true,\r\n                        minWidth: 600,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.statistics_reportslist').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                    $('.statistics_reportslist').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + 'Add tiles to dashboard');\r\n                    resp = JSON.parse(response);\r\n                    $('.statistics_reportslist').html(resp);\r\n                    }).fail(function(ex) {\r\n                    // do something with the exception\r\n                     console.log('Add Tiles');\r\n                });\r\n                }\r\n                });\r\n            },\r\n            addnewdashboard: function() {\r\n                Str.get_string('addnewdashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    document.getElementById(\"id_dashboard\").value = '';\r\n                    $(\"#id_error_dashboard\").css('display', 'none');\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add new dashboard' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.newreport_dashboard').dialog({\r\n                        title: s,\r\n                        modal: true,\r\n                        minWidth: 450,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                        var Closebutton = $('.ui-icon-closethick').parent();\r\n                        $(Closebutton).attr({\r\n                            \"title\" : \"Close\"\r\n                        });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + s);\r\n                });\r\n            },\r\n            updatedashboard: function(oldname,role){\r\n                Str.get_string('updatedashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                    $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add new dashboard' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.newreport_dashboard').dialog({\r\n                        title: s,\r\n                        modal: true,\r\n                        minWidth: 450,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                        var Closebutton = $('.ui-icon-closethick').parent();\r\n                        $(Closebutton).attr({\r\n                            \"title\" : \"Close\"\r\n                        });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + s);\r\n                    document.getElementById(\"id_dashboard\").value = oldname;\r\n                    $(\"#createdashbaord_form\").submit(function(event){\r\n\r\n                        var dashboardname = $( \"#id_dashboard\" ).val();\r\n                        var name = dashboardname.trim();\r\n                        if (name == '' || name == null) {\r\n                            $( \"#id_error_dashboard\" ).css('display', 'block');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                            event.preventDefault();\r\n                            return false;\r\n                        }\r\n                        spaceexist = name.indexOf(\" \");\r\n                        if (spaceexist > 0 && spaceexist != '') {\r\n                            $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'block');\r\n                            event.preventDefault();\r\n                            return false;\r\n                        }\r\n\r\n                        var args = {};\r\n                        args.action = 'updatedashboard';\r\n                        args.role = role;\r\n                        args.oldname = oldname;\r\n                        args.newname = document.getElementById(\"id_dashboard\").value ;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                    });\r\n                });\r\n            },\r\n            sendreportemail: function(args) {\r\n                Str.get_strings([{\r\n                    key: 'sendemail',\r\n                    component: 'block_reportdashboard'\r\n                }]).then(function(s) {\r\n                    var url = M.cfg.wwwroot + '/blocks/learnerscript/ajax.php';\r\n                    args.nodeContent = 'sendreportemail' + args.instanceid;\r\n                    args.action = 'sendreportemail';\r\n                    args.title = s;\r\n                    AjaxForms = require('block_learnerscript/ajaxforms');\r\n                    AjaxForms.init(args, url);\r\n                });\r\n            },\r\n            reportfilter: function(args) {\r\n                var self = this;\r\n                if ($('.report_filter_' + args.instanceid).length < 1) {\r\n                    var promise = Ajax.call([{\r\n                        methodname: 'block_learnerscript_reportfilter',\r\n                        args: {\r\n                            action: 'reportfilter',\r\n                            reportid: args.reportid,\r\n                            instance: args.instanceid\r\n                        }\r\n                    }]);\r\n                    promise[0].done(function(resp) {\r\n                        $('body').append(\"<div class='report_filter_\" + args.instanceid + \"' style='display:none;'>\" + resp + \"</div>\");\r\n                        $(\"select[data-select2-ajax='1']\").each(function() {\r\n                            if (!$(this).hasClass('select2-hidden-accessible')) {\r\n                                helper.Select2Ajax({});\r\n                            }\r\n                        });\r\n                        self.reportFilterFormModal(args);\r\n                         $('.filterform'+args.instanceid+' .fitemtitle').hide();\r\n                          $('.filterform'+args.instanceid+' .felement').attr('style','margin:0');\r\n                    });\r\n                } else {\r\n                    self.reportFilterFormModal(args);\r\n                }\r\n            },\r\n            customreportfilter: function(args) {\r\n                var self = this;\r\n                if ($('.report_filter_' + args.instanceid).length < 1) {\r\n                    var promise = Ajax.call([{\r\n                        methodname: 'block_learnerscript_reportfilter',\r\n                        args: {\r\n                            action: 'reportfilter',\r\n                            reportid: args.reportid,\r\n                            instance: args.instanceid,\r\n                        }\r\n                    }]);\r\n                    promise[0].done(function(resp) {\r\n                        $('.reportsdashboardcontainer').append(\"<div class='report_filter_\" + args.instanceid + \"' style='display:none;'>\" + resp + \"</div>\");\r\n                        var chapterargs = {};\r\n                        chapterargs.action = 'chapterslist';\r\n                        chapterargs.courseid = $(\".report_courses\").val();\r\n                        senddata = JSON.stringify(chapterargs);\r\n                        var promise = ajax.call({\r\n                            args:chapterargs,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#id_filter_chapters\").html(template);\r\n                            $(\"#id_filter_chapters\").val($(' #id_filter_chapters option:eq(0)').val());\r\n                            $(\"#id_filter_chapters\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n\r\n                        $(\"select[data-select2-ajax='1']\").each(function() {\r\n                            if (!$(this).hasClass('select2-hidden-accessible')) {\r\n                                helper.Select2Ajax({});\r\n                            }\r\n                        });\r\n                        self.customreportFilterFormModal(args);\r\n                        $('.filterform'+args.instanceid+' .fitemtitle').hide();\r\n                        $('.filterform'+args.instanceid+' .felement').attr('style','margin:0');\r\n                    });\r\n                } else {\r\n                    self.customreportFilterFormModal(args);\r\n                }\r\n            },\r\n            customreportFilterFormModal: function (args) {\r\n                Str.get_string('reportfilters','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var title_img = \"<img class='dialog_title_icon' alt='Filter' src='\" +\r\n                        M.util.image_url(\"reportfilter\", \"block_reportdashboard\") + \"'/>\";\r\n                    $(\".report_filter_\" + args.instanceid).dialog({\r\n                        title: s,\r\n                        dialogClass: 'reportfilter-popup',\r\n                        modal: true,\r\n                        resizable: true,\r\n                        autoOpen: true,\r\n                        draggable: false,\r\n                        width: 420,\r\n                        height: 'auto',\r\n                        appendTo: \"#customreports\"+args.instanceid,\r\n                        position: {\r\n                            my: \"center\",\r\n                            at: \"center\",\r\n                            of: \"#customreports\"+args.instanceid,\r\n                            within: \"#customreports\"+args.instanceid\r\n                        },\r\n                        open: function(event, ui) {\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find(\".ui-dialog-titlebar-close\")\r\n                            .removeClass(\"ui-dialog-titlebar-close\")\r\n                            .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                            var Closebutton = $('.ui-icon-closethick').parent();\r\n                            $(Closebutton).attr({\r\n                                \"title\" : \"Close\"\r\n                            });\r\n\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find('.ui-dialog-title').html(title_img + s);\r\n\r\n                        /* Submit button */\r\n                        $(\".report_filter_\" + args.instanceid + \" form  #id_filter_apply\").click(function(e) {\r\n                            e.preventDefault();\r\n                            e.stopImmediatePropagation();\r\n                            if ($(\"#reportcontainer\" + args.instanceid).html().length > 0 ) {\r\n                                args.reporttype = $(\"#reportcontainer\" + args.instanceid).data('reporttype');\r\n                            } else {\r\n                                args.reporttype = $(\"#plotreportcontainer\" + args.instanceid).data('reporttype');\r\n                            }\r\n                            var courseid =  $(\".report_courses\").val();\r\n                            var userid =  $(\".report_users\").val() ? $(\".report_users\").val() : $(\"#id_filter_users\").val();\r\n                            var lsstartdate = $(\".lsstartdate\").val();\r\n                            var lsduedate = $(\".lsduedate\").val();\r\n\r\n                            var status =  $(\"#id_filter_status\").val();\r\n                            var chapterid =  $(\"#id_filter_chapters\").val();\r\n                            if ($(\".report_courses\").val() > 0) {\r\n                               args.filters = {filter_courses:courseid, filter_users:userid, filter_status:status, filter_startdate:lsstartdate, filter_duedate:lsduedate,\r\n                                filter_chapters:chapterid};\r\n                            }\r\n                            args.container = '#reporttype_' + args.reportid;\r\n\r\n                            require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                                reportwidget.CreateDashboardwidget({reportid: args.reportid,\r\n                                                             reporttype: args.reporttype,\r\n                                                             instanceid: args.instanceid,\r\n                                                         filters: args.filters});\r\n                                $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                            });\r\n                            $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").removeAttr('disabled');\r\n                        });\r\n                    }\r\n                });\r\n                $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").click(function(e) {\r\n                    e.preventDefault();\r\n                    $(\".filterform\" + args.reportid).trigger(\"reset\");\r\n                    $(\".filterform select[data-select2-ajax='1']\").val('0').trigger('change');\r\n                    if ($(\"#reportcontainer\" + args.instanceid).html().length > 0 ) {\r\n                        args.reporttype = $(\"#reportcontainer\" + args.instanceid).data('reporttype');\r\n                    } else {\r\n                        args.reporttype = $(\"#plotreportcontainer\" + args.instanceid).data('reporttype');\r\n                    }\r\n                    if ($(\".report_courses\").val() > 0) {\r\n                        args.courseid = $(\".report_courses\").val();\r\n                    }\r\n                    if ($(\".report_users\").val() > 0) {\r\n                        args.userid = $(\".report_users\").val();\r\n                    }\r\n                    args.filters = {filter_courses:args.courseid, filter_users:args.userid};\r\n                    require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                        reportwidget.CreateDashboardwidget({reportid: args.reportid,\r\n                            reporttype: args.reporttype,\r\n                            instanceid: args.instanceid,\r\n                            filters: args.filters});\r\n                        $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                    });\r\n                    $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                });\r\n            });\r\n            },\r\n            reportFilterFormModal: function (args) {\r\n                Str.get_string('reportfilters','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var title_img = \"<img class='dialog_title_icon' alt='Filter' src='\" +\r\n                        M.util.image_url(\"reportfilter\", \"block_reportdashboard\") + \"'/>\";\r\n                    $(\".report_filter_\" + args.instanceid).dialog({\r\n                        title: s,\r\n                        dialogClass: 'reportfilter-popup',\r\n                        modal: true,\r\n                        resizable: true,\r\n                        autoOpen: true,\r\n                        draggable: false,\r\n                        width: 420,\r\n                        height: 'auto',\r\n                        appendTo: \"#inst\" + args.instanceid,\r\n                        position: {\r\n                            my: \"center\",\r\n                            at: \"center\",\r\n                            of: \"#inst\" + args.instanceid,\r\n                            within: \"#inst\" + args.instanceid\r\n                        },\r\n                        open: function(event, ui) {\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find(\".ui-dialog-titlebar-close\")\r\n                            .removeClass(\"ui-dialog-titlebar-close\")\r\n                            .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                            var Closebutton = $('.ui-icon-closethick').parent();\r\n                            $(Closebutton).attr({\r\n                                \"title\" : \"Close\"\r\n                            });\r\n\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find('.ui-dialog-title').html(title_img + s);\r\n\r\n                        /* Submit button */\r\n                        $(\".report_filter_\" + args.instanceid + \" form  #id_filter_apply\").click(function(e) {\r\n                            e.preventDefault();\r\n                            e.stopImmediatePropagation();\r\n                            if ($(\"#reportcontainer\" + args.instanceid).html().length > 0 ) {\r\n                                args.reporttype = $(\"#reportcontainer\" + args.instanceid).data('reporttype');\r\n                            } else {\r\n                                args.reporttype = $(\"#plotreportcontainer\" + args.instanceid).data('reporttype');\r\n                            }\r\n                            args.container = '#reporttype_' + args.reportid;\r\n\r\n                            require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                                reportwidget.CreateDashboardwidget({reportid: args.reportid,\r\n                                                             reporttype: args.reporttype,\r\n                                                             instanceid: args.instanceid});\r\n                                $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                            });\r\n                            $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").removeAttr('disabled');\r\n                        });\r\n                    }\r\n                });\r\n                $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").click(function(e) {\r\n                    e.preventDefault();\r\n                    $(\".filterform\" + args.reportid).trigger(\"reset\");\r\n                    require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                        reportwidget.DashboardWidgets(args);\r\n                        $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                    });\r\n                    $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                });\r\n            });\r\n            },\r\n            DeleteWidget: function(args) {\r\n                Str.get_string('deletewidget','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var trainers = $(\"#delete_dialog\" + args.instanceid).dialog({\r\n                        resizable: true,\r\n                        autoOpen: true,\r\n                        width: 460,\r\n                        height: 210,\r\n                        title: s,\r\n                        modal: true,\r\n                        // dialogClass: 'dialog_fixed',\r\n                        appendTo: \"#inst\" + args.instanceid,\r\n                        position: {\r\n                            my: \"center\",\r\n                            at: \"center\",\r\n                            of: \"#inst\" + args.instanceid,\r\n                            within: \"#inst\" + args.instanceid\r\n                        },\r\n                        open: function(event, ui) {\r\n                            $(this).closest(\".ui-dialog\")\r\n                                .find(\".ui-dialog-titlebar-close\")\r\n                                .removeClass(\"ui-dialog-titlebar-close\")\r\n                                .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                                var Closebutton = $('.ui-icon-closethick').parent();\r\n                                $(Closebutton).attr({\r\n                                    \"title\" : \"Close\"\r\n                                });\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            Deletedashboard: function(args) {\r\n                Str.get_string('deletedashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var instancename = args.instance;\r\n                        $( \"#dashboard_delete_popup_\"+args.random).dialog({\r\n                            resizable: false,\r\n                            height: 150,\r\n                            width: 375,\r\n                            modal: true,\r\n                            title : s,\r\n                            open: function(event) {\r\n                            $(this).closest(\".ui-dialog\")\r\n                                .find(\".ui-dialog-titlebar-close\")\r\n                                .removeClass(\"ui-dialog-titlebar-close\")\r\n                                .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                                var Closebutton = $('.ui-icon-closethick').parent();\r\n                                $(Closebutton).attr({\r\n                                    \"title\" : \"Close\"\r\n                                });\r\n                            },\r\n                            close: function(event, ui) {\r\n                                $(this).dialog('destroy').hide();\r\n                            }\r\n                        });\r\n                });\r\n            },\r\n            /**\r\n             * Schedule report form in popup in dashboard\r\n             * @param  object args reportid\r\n             * @return Popup with schedule form\r\n             */\r\n            schreportform: function(args) {\r\n                var self = this;\r\n                Str.get_string('schedulereport','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var url = M.cfg.wwwroot + '/blocks/learnerscript/ajax.php';\r\n                    args.title = s;\r\n                    args.nodeContent = 'schreportform' + args.instanceid;\r\n                    args.action = 'schreportform';\r\n                    args.courseid = $('[name=\"filter_courses\"]').val();\r\n                    AjaxForms = require('block_learnerscript/ajaxforms');\r\n                    AjaxForms.init(args, url);\r\n                });\r\n            }\r\n        };\r\n    });\r\n"],"names":["define","Ajax","Templates","report","reportwidget","schedule","helper","ajax","select2","DataTable","RadiosToSlider","flatpickr","Str","$","init","document","ajaxStop","fadeOut","Select2Ajax","change","goalid","this","val","args","senddata","JSON","stringify","call","url","M","cfg","wwwroot","done","response","template","each","key","value","html","trigger","find","text","boardid","classid","subjectid","batchid","methodname","dashboardcourseid","courseid","render","js","replaceNodeContents","DashboardTiles","DashboardWidgets","attr","submit","event","name","trim","css","preventDefault","spaceexist","indexOf","ui","dialog","prototype","_focusTabbable","noop","DheaderPosition","position","offset","top","action","multiple","on","e","parents","activityelement","instancelement","reportid","data","reporttype","instanceid","smartfilter","CourseActivities","element","reset","CreateDashboardwidget","categoryid","courseelement","closest","length","categoryCourses","size","animation","reportdashboard","mode","onOpen","selectedDates","dateStr","instance","clear","onClose","getTime","require","reportjs","window","onclick","target","matches","i","dropdowns","getElementsByClassName","openDropdown","hasClass","toggleClass","datefilters","lsstartdate","startdate","Date","lsduedate","duedate","packageid","userid","records","coursetabsdata","addblocks_to_dashboard","get_string","then","s","console","log","urlParam","results","RegExp","exec","location","href","role","dashboardurl","contextlevel","widget_title_img","util","image_url","title","modal","minWidth","maxHeight","removeClass","resp","parse","fail","ex","addtiles_to_dashboard","tile_title_img","addnewdashboard","getElementById","Closebutton","parent","updatedashboard","oldname","newname","sendreportemail","get_strings","component","nodeContent","AjaxForms","reportfilter","self","append","reportFilterFormModal","hide","customreportfilter","chapterargs","customreportFilterFormModal","title_img","dialogClass","resizable","autoOpen","draggable","width","height","appendTo","my","at","of","within","open","click","stopImmediatePropagation","status","chapterid","filters","filter_courses","filter_users","filter_status","filter_startdate","filter_duedate","filter_chapters","container","removeAttr","DeleteWidget","Deletedashboard","random","close","schreportform"],"mappings":"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"}