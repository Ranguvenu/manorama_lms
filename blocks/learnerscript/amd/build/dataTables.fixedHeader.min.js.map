{"version":3,"file":"dataTables.fixedHeader.min.js","sources":["../src/dataTables.fixedHeader.js"],"sourcesContent":["/*! FixedHeader 3.1.3\r\n * Â©2009-2017 SpryMedia Ltd - datatables.net/license\r\n */\r\n\r\n/**\r\n * @summary     FixedHeader\r\n * @description Fix a table's header or footer, so it is always visible while\r\n *              scrolling\r\n * @version     3.1.3\r\n * @file        dataTables.fixedHeader.js\r\n * @author      SpryMedia Ltd (www.sprymedia.co.uk)\r\n * @contact     www.sprymedia.co.uk/contact\r\n * @copyright   Copyright 2009-2017 SpryMedia Ltd.\r\n *\r\n * This source file is free software, available under the following license:\r\n *   MIT license - http://datatables.net/license/mit\r\n *\r\n * This source file is distributed in the hope that it will be useful, but\r\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\r\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\r\n *\r\n * For details please refer to: http://www.datatables.net\r\n */\r\n\r\n(function( factory ){\r\n\tif ( typeof define === 'function' && define.amd ) {\r\n\t\t// AMD\r\n\t\tdefine( ['jquery', 'datatables.net'], function ( $ ) {\r\n\t\t\treturn factory( $, window, document );\r\n\t\t} );\r\n\t}\r\n\telse if ( typeof exports === 'object' ) {\r\n\t\t// CommonJS\r\n\t\tmodule.exports = function (root, $) {\r\n\t\t\tif ( ! root ) {\r\n\t\t\t\troot = window;\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! $ || ! $.fn.dataTable ) {\r\n\t\t\t\t$ = require('datatables.net')(root, $).$;\r\n\t\t\t}\r\n\r\n\t\t\treturn factory( $, root, root.document );\r\n\t\t};\r\n\t}\r\n\telse {\r\n\t\t// Browser\r\n\t\tfactory( jQuery, window, document );\r\n\t}\r\n}(function( $, window, document, undefined ) {\r\n'use strict';\r\nvar DataTable = $.fn.dataTable;\r\n\r\n\r\nvar _instCounter = 0;\r\n\r\nvar FixedHeader = function ( dt, config ) {\r\n\t// Sanity check - you just know it will happen\r\n\tif ( ! (this instanceof FixedHeader) ) {\r\n\t\tthrow \"FixedHeader must be initialised with the 'new' keyword.\";\r\n\t}\r\n\r\n\t// Allow a boolean true for defaults\r\n\tif ( config === true ) {\r\n\t\tconfig = {};\r\n\t}\r\n\r\n\tdt = new DataTable.Api( dt );\r\n\r\n\tthis.c = $.extend( true, {}, FixedHeader.defaults, config );\r\n\r\n\tthis.s = {\r\n\t\tdt: dt,\r\n\t\tposition: {\r\n\t\t\ttheadTop: 0,\r\n\t\t\ttbodyTop: 0,\r\n\t\t\ttfootTop: 0,\r\n\t\t\ttfootBottom: 0,\r\n\t\t\twidth: 0,\r\n\t\t\tleft: 0,\r\n\t\t\ttfootHeight: 0,\r\n\t\t\ttheadHeight: 0,\r\n\t\t\twindowHeight: $(window).height(),\r\n\t\t\tvisible: true\r\n\t\t},\r\n\t\theaderMode: null,\r\n\t\tfooterMode: null,\r\n\t\tautoWidth: dt.settings()[0].oFeatures.bAutoWidth,\r\n\t\tnamespace: '.dtfc'+(_instCounter++),\r\n\t\tscrollLeft: {\r\n\t\t\theader: -1,\r\n\t\t\tfooter: -1\r\n\t\t},\r\n\t\tenable: true\r\n\t};\r\n\r\n\tthis.dom = {\r\n\t\tfloatingHeader: null,\r\n\t\tthead: $(dt.table().header()),\r\n\t\ttbody: $(dt.table().body()),\r\n\t\ttfoot: $(dt.table().footer()),\r\n\t\theader: {\r\n\t\t\thost: null,\r\n\t\t\tfloating: null,\r\n\t\t\tplaceholder: null\r\n\t\t},\r\n\t\tfooter: {\r\n\t\t\thost: null,\r\n\t\t\tfloating: null,\r\n\t\t\tplaceholder: null\r\n\t\t}\r\n\t};\r\n\r\n\tthis.dom.header.host = this.dom.thead.parent();\r\n\tthis.dom.footer.host = this.dom.tfoot.parent();\r\n\r\n\tvar dtSettings = dt.settings()[0];\r\n\tif ( dtSettings._fixedHeader ) {\r\n\t\tthrow \"FixedHeader already initialised on table \"+dtSettings.nTable.id;\r\n\t}\r\n\r\n\tdtSettings._fixedHeader = this;\r\n\r\n\tthis._constructor();\r\n};\r\n\r\n\r\n/*\r\n * Variable: FixedHeader\r\n * Purpose:  Prototype for FixedHeader\r\n * Scope:    global\r\n */\r\n$.extend( FixedHeader.prototype, {\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * API methods\r\n\t */\r\n\t\r\n\t/**\r\n\t * Enable / disable the fixed elements\r\n\t *\r\n\t * @param  {boolean} enable `true` to enable, `false` to disable\r\n\t */\r\n\tenable: function ( enable )\r\n\t{\r\n\t\tthis.s.enable = enable;\r\n\r\n\t\tif ( this.c.header ) {\r\n\t\t\tthis._modeChange( 'in-place', 'header', true );\r\n\t\t}\r\n\r\n\t\tif ( this.c.footer && this.dom.tfoot.length ) {\r\n\t\t\tthis._modeChange( 'in-place', 'footer', true );\r\n\t\t}\r\n\r\n\t\tthis.update();\r\n\t},\r\n\t\r\n\t/**\r\n\t * Set header offset \r\n\t *\r\n\t * @param  {int} new value for headerOffset\r\n\t */\r\n\theaderOffset: function ( offset )\r\n\t{\r\n\t\tif ( offset !== undefined ) {\r\n\t\t\tthis.c.headerOffset = offset;\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\treturn this.c.headerOffset;\r\n\t},\r\n\t\r\n\t/**\r\n\t * Set footer offset\r\n\t *\r\n\t * @param  {int} new value for footerOffset\r\n\t */\r\n\tfooterOffset: function ( offset )\r\n\t{\r\n\t\tif ( offset !== undefined ) {\r\n\t\t\tthis.c.footerOffset = offset;\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\treturn this.c.footerOffset;\r\n\t},\r\n\r\n\t\r\n\t/**\r\n\t * Recalculate the position of the fixed elements and force them into place\r\n\t */\r\n\tupdate: function ()\r\n\t{\r\n\t\tthis._positions();\r\n\t\tthis._scroll( true );\r\n\t},\r\n\r\n\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Constructor\r\n\t */\r\n\t\r\n\t/**\r\n\t * FixedHeader constructor - adding the required event listeners and\r\n\t * simple initialisation\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_constructor: function ()\r\n\t{\r\n\t\tvar that = this;\r\n\t\tvar dt = this.s.dt;\r\n\r\n\t\t$(window)\r\n\t\t\t.on( 'scroll'+this.s.namespace, function () {\r\n\t\t\t\tthat._scroll();\r\n\t\t\t} )\r\n\t\t\t.on( 'resize'+this.s.namespace, function () {\r\n\t\t\t\tthat.s.position.windowHeight = $(window).height();\r\n\t\t\t\tthat.update();\r\n\t\t\t} );\r\n\r\n\t\tvar autoHeader = $('.fh-fixedHeader');\r\n\t\tif ( ! this.c.headerOffset && autoHeader.length ) {\r\n\t\t\tthis.c.headerOffset = autoHeader.outerHeight();\r\n\t\t}\r\n\r\n\t\tvar autoFooter = $('.fh-fixedFooter');\r\n\t\tif ( ! this.c.footerOffset && autoFooter.length ) {\r\n\t\t\tthis.c.footerOffset = autoFooter.outerHeight();\r\n\t\t}\r\n\r\n\t\tdt.on( 'column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc', function () {\r\n\t\t\tthat.update();\r\n\t\t} );\r\n\r\n\t\tdt.on( 'destroy.dtfc', function () {\r\n\t\t\tdt.off( '.dtfc' );\r\n\t\t\t$(window).off( that.s.namespace );\r\n\t\t} );\r\n\r\n\t\tthis._positions();\r\n\t\tthis._scroll();\r\n\t},\r\n\r\n\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Private methods\r\n\t */\r\n\r\n\t/**\r\n\t * Clone a fixed item to act as a place holder for the original element\r\n\t * which is moved into a clone of the table element, and moved around the\r\n\t * document to give the fixed effect.\r\n\t *\r\n\t * @param  {string}  item  'header' or 'footer'\r\n\t * @param  {boolean} force Force the clone to happen, or allow automatic\r\n\t *   decision (reuse existing if available)\r\n\t * @private\r\n\t */\r\n\t_clone: function ( item, force )\r\n\t{\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar itemDom = this.dom[ item ];\r\n\t\tvar itemElement = item === 'header' ?\r\n\t\t\tthis.dom.thead :\r\n\t\t\tthis.dom.tfoot;\r\n\r\n\t\tif ( ! force && itemDom.floating ) {\r\n\t\t\t// existing floating element - reuse it\r\n\t\t\titemDom.floating.removeClass( 'fixedHeader-floating fixedHeader-locked' );\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif ( itemDom.floating ) {\r\n\t\t\t\titemDom.placeholder.remove();\r\n\t\t\t\tthis._unsize( item );\r\n\t\t\t\titemDom.floating.children().detach();\r\n\t\t\t\titemDom.floating.remove();\r\n\t\t\t}\r\n\r\n\t\t\titemDom.floating = $( dt.table().node().cloneNode( false ) )\r\n\t\t\t\t.css( 'table-layout', 'fixed' )\r\n\t\t\t\t.removeAttr( 'id' )\r\n\t\t\t\t.append( itemElement )\r\n\t\t\t\t.appendTo( 'body' );\r\n\r\n\t\t\t// Insert a fake thead/tfoot into the DataTable to stop it jumping around\r\n\t\t\titemDom.placeholder = itemElement.clone( false )\r\n\t\t\titemDom.placeholder\r\n\t\t\t\t.find( '*[id]' )\r\n\t\t\t\t.removeAttr( 'id' );\r\n\r\n\t\t\titemDom.host.prepend( itemDom.placeholder );\r\n\r\n\t\t\t// Clone widths\r\n\t\t\tthis._matchWidths( itemDom.placeholder, itemDom.floating );\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Copy widths from the cells in one element to another. This is required\r\n\t * for the footer as the footer in the main table takes its sizes from the\r\n\t * header columns. That isn't present in the footer so to have it still\r\n\t * align correctly, the sizes need to be copied over. It is also required\r\n\t * for the header when auto width is not enabled\r\n\t *\r\n\t * @param  {jQuery} from Copy widths from\r\n\t * @param  {jQuery} to   Copy widths to\r\n\t * @private\r\n\t */\r\n\t_matchWidths: function ( from, to ) {\r\n\t\tvar get = function ( name ) {\r\n\t\t\treturn $(name, from)\r\n\t\t\t\t.map( function () {\r\n\t\t\t\t\treturn $(this).width();\r\n\t\t\t\t} ).toArray();\r\n\t\t};\r\n\r\n\t\tvar set = function ( name, toWidths ) {\r\n\t\t\t$(name, to).each( function ( i ) {\r\n\t\t\t\t$(this).css( {\r\n\t\t\t\t\twidth: toWidths[i],\r\n\t\t\t\t\tminWidth: toWidths[i]\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t};\r\n\r\n\t\tvar thWidths = get( 'th' );\r\n\t\tvar tdWidths = get( 'td' );\r\n\r\n\t\tset( 'th', thWidths );\r\n\t\tset( 'td', tdWidths );\r\n\t},\r\n\r\n\t/**\r\n\t * Remove assigned widths from the cells in an element. This is required\r\n\t * when inserting the footer back into the main table so the size is defined\r\n\t * by the header columns and also when auto width is disabled in the\r\n\t * DataTable.\r\n\t *\r\n\t * @param  {string} item The `header` or `footer`\r\n\t * @private\r\n\t */\r\n\t_unsize: function ( item ) {\r\n\t\tvar el = this.dom[ item ].floating;\r\n\r\n\t\tif ( el && (item === 'footer' || (item === 'header' && ! this.s.autoWidth)) ) {\r\n\t\t\t$('th, td', el).css( {\r\n\t\t\t\twidth: '',\r\n\t\t\t\tminWidth: ''\r\n\t\t\t} );\r\n\t\t}\r\n\t\telse if ( el && item === 'header' ) {\r\n\t\t\t$('th, td', el).css( 'min-width', '' );\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Reposition the floating elements to take account of horizontal page\r\n\t * scroll\r\n\t *\r\n\t * @param  {string} item       The `header` or `footer`\r\n\t * @param  {int}    scrollLeft Document scrollLeft\r\n\t * @private\r\n\t */\r\n\t_horizontal: function ( item, scrollLeft )\r\n\t{\r\n\t\tvar itemDom = this.dom[ item ];\r\n\t\tvar position = this.s.position;\r\n\t\tvar lastScrollLeft = this.s.scrollLeft;\r\n\r\n\t\tif ( itemDom.floating && lastScrollLeft[ item ] !== scrollLeft ) {\r\n\t\t\titemDom.floating.css( 'left', position.left - scrollLeft );\r\n\r\n\t\t\tlastScrollLeft[ item ] = scrollLeft;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Change from one display mode to another. Each fixed item can be in one\r\n\t * of:\r\n\t *\r\n\t * * `in-place` - In the main DataTable\r\n\t * * `in` - Floating over the DataTable\r\n\t * * `below` - (Header only) Fixed to the bottom of the table body\r\n\t * * `above` - (Footer only) Fixed to the top of the table body\r\n\t * \r\n\t * @param  {string}  mode        Mode that the item should be shown in\r\n\t * @param  {string}  item        'header' or 'footer'\r\n\t * @param  {boolean} forceChange Force a redraw of the mode, even if already\r\n\t *     in that mode.\r\n\t * @private\r\n\t */\r\n\t_modeChange: function ( mode, item, forceChange )\r\n\t{\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar itemDom = this.dom[ item ];\r\n\t\tvar position = this.s.position;\r\n\r\n\t\t// Record focus. Browser's will cause input elements to loose focus if\r\n\t\t// they are inserted else where in the doc\r\n\t\tvar tablePart = this.dom[ item==='footer' ? 'tfoot' : 'thead' ];\r\n\t\tvar focus = $.contains( tablePart[0], document.activeElement ) ?\r\n\t\t\tdocument.activeElement :\r\n\t\t\tnull;\r\n\r\n\t\tif ( mode === 'in-place' ) {\r\n\t\t\t// Insert the header back into the table's real header\r\n\t\t\tif ( itemDom.placeholder ) {\r\n\t\t\t\titemDom.placeholder.remove();\r\n\t\t\t\titemDom.placeholder = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis._unsize( item );\r\n\r\n\t\t\tif ( item === 'header' ) {\r\n\t\t\t\titemDom.host.prepend( this.dom.thead );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\titemDom.host.append( this.dom.tfoot );\r\n\t\t\t}\r\n\r\n\t\t\tif ( itemDom.floating ) {\r\n\t\t\t\titemDom.floating.remove();\r\n\t\t\t\titemDom.floating = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( mode === 'in' ) {\r\n\t\t\t// Remove the header from the read header and insert into a fixed\r\n\t\t\t// positioned floating table clone\r\n\t\t\tthis._clone( item, forceChange );\r\n\r\n\t\t\titemDom.floating\r\n\t\t\t\t.addClass( 'fixedHeader-floating' )\r\n\t\t\t\t.css( item === 'header' ? 'top' : 'bottom', this.c[item+'Offset'] )\r\n\t\t\t\t.css( 'left', position.left+'px' )\r\n\t\t\t\t.css( 'width', position.width+'px' );\r\n\r\n\t\t\tif ( item === 'footer' ) {\r\n\t\t\t\titemDom.floating.css( 'top', '' );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( mode === 'below' ) { // only used for the header\r\n\t\t\t// Fix the position of the floating header at base of the table body\r\n\t\t\tthis._clone( item, forceChange );\r\n\r\n\t\t\titemDom.floating\r\n\t\t\t\t.addClass( 'fixedHeader-locked' )\r\n\t\t\t\t.css( 'top', position.tfootTop - position.theadHeight )\r\n\t\t\t\t.css( 'left', position.left+'px' )\r\n\t\t\t\t.css( 'width', position.width+'px' );\r\n\t\t}\r\n\t\telse if ( mode === 'above' ) { // only used for the footer\r\n\t\t\t// Fix the position of the floating footer at top of the table body\r\n\t\t\tthis._clone( item, forceChange );\r\n\r\n\t\t\titemDom.floating\r\n\t\t\t\t.addClass( 'fixedHeader-locked' )\r\n\t\t\t\t.css( 'top', position.tbodyTop )\r\n\t\t\t\t.css( 'left', position.left+'px' )\r\n\t\t\t\t.css( 'width', position.width+'px' );\r\n\t\t}\r\n\r\n\t\t// Restore focus if it was lost\r\n\t\tif ( focus && focus !== document.activeElement ) {\r\n\t\t\tfocus.focus();\r\n\t\t}\r\n\r\n\t\tthis.s.scrollLeft.header = -1;\r\n\t\tthis.s.scrollLeft.footer = -1;\r\n\t\tthis.s[item+'Mode'] = mode;\r\n\t},\r\n\r\n\t/**\r\n\t * Cache the positional information that is required for the mode\r\n\t * calculations that FixedHeader performs.\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_positions: function ()\r\n\t{\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar table = dt.table();\r\n\t\tvar position = this.s.position;\r\n\t\tvar dom = this.dom;\r\n\t\tvar tableNode = $(table.node());\r\n\r\n\t\t// Need to use the header and footer that are in the main table,\r\n\t\t// regardless of if they are clones, since they hold the positions we\r\n\t\t// want to measure from\r\n\t\tvar thead = tableNode.children('thead');\r\n\t\tvar tfoot = tableNode.children('tfoot');\r\n\t\tvar tbody = dom.tbody;\r\n\r\n\t\tposition.visible = tableNode.is(':visible');\r\n\t\tposition.width = tableNode.outerWidth();\r\n\t\tposition.left = tableNode.offset().left;\r\n\t\tposition.theadTop = thead.offset().top;\r\n\t\tposition.tbodyTop = tbody.offset().top;\r\n\t\tposition.theadHeight = position.tbodyTop - position.theadTop;\r\n\r\n\t\tif ( tfoot.length ) {\r\n\t\t\tposition.tfootTop = tfoot.offset().top;\r\n\t\t\tposition.tfootBottom = position.tfootTop + tfoot.outerHeight();\r\n\t\t\tposition.tfootHeight = position.tfootBottom - position.tfootTop;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tposition.tfootTop = position.tbodyTop + tbody.outerHeight();\r\n\t\t\tposition.tfootBottom = position.tfootTop;\r\n\t\t\tposition.tfootHeight = position.tfootTop;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Mode calculation - determine what mode the fixed items should be placed\r\n\t * into.\r\n\t *\r\n\t * @param  {boolean} forceChange Force a redraw of the mode, even if already\r\n\t *     in that mode.\r\n\t * @private\r\n\t */\r\n\t_scroll: function ( forceChange )\r\n\t{\r\n\t\tvar windowTop = $(document).scrollTop();\r\n\t\tvar windowLeft = $(document).scrollLeft();\r\n\t\tvar position = this.s.position;\r\n\t\tvar headerMode, footerMode;\r\n\r\n\t\tif ( ! this.s.enable ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( this.c.header ) {\r\n\t\t\tif ( ! position.visible || windowTop <= position.theadTop - this.c.headerOffset ) {\r\n\t\t\t\theaderMode = 'in-place';\r\n\t\t\t}\r\n\t\t\telse if ( windowTop <= position.tfootTop - position.theadHeight - this.c.headerOffset ) {\r\n\t\t\t\theaderMode = 'in';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\theaderMode = 'below';\r\n\t\t\t}\r\n\r\n\t\t\tif ( forceChange || headerMode !== this.s.headerMode ) {\r\n\t\t\t\tthis._modeChange( headerMode, 'header', forceChange );\r\n\t\t\t}\r\n\r\n\t\t\tthis._horizontal( 'header', windowLeft );\r\n\t\t}\r\n\r\n\t\tif ( this.c.footer && this.dom.tfoot.length ) {\r\n\t\t\tif ( ! position.visible || windowTop + position.windowHeight >= position.tfootBottom + this.c.footerOffset ) {\r\n\t\t\t\tfooterMode = 'in-place';\r\n\t\t\t}\r\n\t\t\telse if ( position.windowHeight + windowTop > position.tbodyTop + position.tfootHeight + this.c.footerOffset ) {\r\n\t\t\t\tfooterMode = 'in';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfooterMode = 'above';\r\n\t\t\t}\r\n\r\n\t\t\tif ( forceChange || footerMode !== this.s.footerMode ) {\r\n\t\t\t\tthis._modeChange( footerMode, 'footer', forceChange );\r\n\t\t\t}\r\n\r\n\t\t\tthis._horizontal( 'footer', windowLeft );\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n\r\n/**\r\n * Version\r\n * @type {String}\r\n * @static\r\n */\r\nFixedHeader.version = \"3.1.3\";\r\n\r\n/**\r\n * Defaults\r\n * @type {Object}\r\n * @static\r\n */\r\nFixedHeader.defaults = {\r\n\theader: true,\r\n\tfooter: false,\r\n\theaderOffset: 0,\r\n\tfooterOffset: 0\r\n};\r\n\r\n\r\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n * DataTables interfaces\r\n */\r\n\r\n// Attach for constructor access\r\n$.fn.dataTable.FixedHeader = FixedHeader;\r\n$.fn.DataTable.FixedHeader = FixedHeader;\r\n\r\n\r\n// DataTables creation - check if the FixedHeader option has been defined on the\r\n// table and if so, initialise\r\n$(document).on( 'init.dt.dtfh', function (e, settings, json) {\r\n\tif ( e.namespace !== 'dt' ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar init = settings.oInit.fixedHeader;\r\n\tvar defaults = DataTable.defaults.fixedHeader;\r\n\r\n\tif ( (init || defaults) && ! settings._fixedHeader ) {\r\n\t\tvar opts = $.extend( {}, defaults, init );\r\n\r\n\t\tif ( init !== false ) {\r\n\t\t\tnew FixedHeader( settings, opts );\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n// DataTables API methods\r\nDataTable.Api.register( 'fixedHeader()', function () {} );\r\n\r\nDataTable.Api.register( 'fixedHeader.adjust()', function () {\r\n\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\tvar fh = ctx._fixedHeader;\r\n\r\n\t\tif ( fh ) {\r\n\t\t\tfh.update();\r\n\t\t}\r\n\t} );\r\n} );\r\n\r\nDataTable.Api.register( 'fixedHeader.enable()', function ( flag ) {\r\n\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\tvar fh = ctx._fixedHeader;\r\n\r\n\t\tflag = ( flag !== undefined ? flag : true );\r\n\t\tif ( fh && flag !== fh.s.enable ) {\r\n\t\t\tfh.enable( flag );\r\n\t\t}\r\n\t} );\r\n} );\r\n\r\nDataTable.Api.register( 'fixedHeader.disable()', function ( ) {\r\n\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\tvar fh = ctx._fixedHeader;\r\n\r\n\t\tif ( fh && fh.s.enable ) {\r\n\t\t\tfh.enable( false );\r\n\t\t}\r\n\t} );\r\n} );\r\n\r\n$.each( ['header', 'footer'], function ( i, el ) {\r\n\tDataTable.Api.register( 'fixedHeader.'+el+'Offset()', function ( offset ) {\r\n\t\tvar ctx = this.context;\r\n\r\n\t\tif ( offset === undefined ) {\r\n\t\t\treturn ctx.length && ctx[0]._fixedHeader ?\r\n\t\t\t\tctx[0]._fixedHeader[el +'Offset']() :\r\n\t\t\t\tundefined;\r\n\t\t}\r\n\r\n\t\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\t\tvar fh = ctx._fixedHeader;\r\n\r\n\t\t\tif ( fh ) {\r\n\t\t\t\tfh[ el +'Offset' ]( offset );\r\n\t\t\t}\r\n\t\t} );\r\n\t} );\r\n} );\r\n\r\n\r\nreturn FixedHeader;\r\n}));\r\n"],"names":["factory","$","window","document","undefined","DataTable","fn","dataTable","_instCounter","FixedHeader","dt","config","this","Api","c","extend","defaults","s","position","theadTop","tbodyTop","tfootTop","tfootBottom","width","left","tfootHeight","theadHeight","windowHeight","height","visible","headerMode","footerMode","autoWidth","settings","oFeatures","bAutoWidth","namespace","scrollLeft","header","footer","enable","dom","floatingHeader","thead","table","tbody","body","tfoot","host","floating","placeholder","parent","dtSettings","_fixedHeader","nTable","id","_constructor","prototype","_modeChange","length","update","headerOffset","offset","footerOffset","_positions","_scroll","that","on","autoHeader","outerHeight","autoFooter","off","_clone","item","force","itemDom","itemElement","removeClass","remove","_unsize","children","detach","node","cloneNode","css","removeAttr","append","appendTo","clone","find","prepend","_matchWidths","from","to","get","name","map","toArray","set","toWidths","each","i","minWidth","thWidths","tdWidths","el","_horizontal","lastScrollLeft","mode","forceChange","tablePart","focus","contains","activeElement","addClass","tableNode","is","outerWidth","top","windowTop","scrollTop","windowLeft","version","e","json","init","oInit","fixedHeader","opts","register","iterator","ctx","fh","flag","context","define","amd","exports","module","root","require","jQuery"],"mappings":"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"}