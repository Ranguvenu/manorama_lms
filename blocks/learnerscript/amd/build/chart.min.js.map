{"version":3,"file":"chart.min.js","sources":["../src/chart.js"],"sourcesContent":["define(['jquery',\r\n        'core/ajax',\r\n        'block_learnerscript/highcharts',\r\n        'block_learnerscript/smartfilter',\r\n        'block_learnerscript/report'\r\n    ],\r\n    function($, Ajax, Highcharts, smartfilter, report) {\r\n        /**\r\n         * Get highchart report for report with Ajax request\r\n         * @param object reportid and reportdata\r\n         * @return Generate highchart report\r\n         */\r\n        return chart = {\r\n            HighchartsAjax: function(args) {\r\n                args.cols = JSON.stringify(args.cols);\r\n                args.instanceid = args.reportid;\r\n                args.filters = args.filters || smartfilter.FilterData(args.instanceid);\r\n                args.basicparams = JSON.stringify(smartfilter.BasicparamsData(args.instanceid));\r\n                args.filters['ls_fstartdate'] = $('#ls_fstartdate').val();\r\n                args.filters['ls_fenddate'] = $('#ls_fenddate').val();\r\n                if (typeof args.filters['filter_courses'] == 'undefined') {\r\n                    var filter_courses = $('.dashboardcourses').val();\r\n                    if (filter_courses != 1) {\r\n                        args.filters['filter_courses'] = filter_courses;\r\n                    }\r\n                }\r\n                args.filters = JSON.stringify(args.filters);\r\n\r\n                //Request\r\n                var promise = Ajax.call([{\r\n                    methodname: 'block_learnerscript_generate_plotgraph',\r\n                    args: args,\r\n                }]);\r\n\r\n                //Preload\r\n                $('#report_plottabs').show();\r\n                $(\"#plotreportcontainer\" + args.instanceid).html('<img src=\"' + M.util.image_url('loading', 'block_learnerscript') + '\" id=\"reportloadingimage\" />');\r\n\r\n                //Response process\r\n                promise[0].done(function(response) {\r\n                    response = JSON.parse(response);\r\n                    if (response.plot) {\r\n                        if (response.plot.error === true) {\r\n                            $('#plotreportcontainer' + args.instanceid).html(\"<div class='alert alert-warning'>No data available</div>\");\r\n                        } else {\r\n                            response.plot.reportid = args.reportid;\r\n                            response.plot.reportinstance = args.reportid;\r\n                            if (response.plot.data && response.plot.data.length > 0) {\r\n                                require(['block_learnerscript/report'], function(report) {\r\n                                    report.generate_plotgraph(response.plot);\r\n                                });\r\n                            } else {\r\n                                $('#plotreportcontainer' + args.instanceid).html(\"<div class='alert alert-warning'>No data available</div>\");\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n\r\n            //Piechart\r\n            piechart: function(chartdata) {\r\n                var chart = Highcharts.chart(chartdata.containerid, {\r\n                    chart: {\r\n                        plotBackgroundColor: null,\r\n                        plotBorderWidth: null,\r\n                        plotShadow: false,\r\n                        type: 'pie',\r\n                        width: chartdata.width || null,\r\n                        height: chartdata.height || null,\r\n                        margin: chartdata.margin || null\r\n                    },\r\n                    credits: {\r\n                        enabled: false\r\n                    },\r\n                    title: {\r\n                        text: chartdata.title\r\n                    },\r\n                    tooltip: {\r\n                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\r\n                    },\r\n                    plotOptions: {\r\n                        pie: {\r\n                            allowPointSelect: true,\r\n                            cursor: 'pointer',\r\n                            shadow: false,\r\n                            dataLabels: {\r\n                                enabled: chartdata.datalabels\r\n                            },\r\n                            showInLegend: chartdata.showlegend\r\n                        }\r\n                    },\r\n                    series: [{\r\n                        name: chartdata.serieslabel,\r\n                        colorByPoint: true,\r\n                        data: chartdata.data,\r\n                    }]\r\n                });\r\n            },\r\n            //Line, Bar and column charts\r\n            lbchart: function(chartdata) {\r\n                var charttype = chartdata.type;\r\n                var chartcolors = ['#336B87', '#90AFC5', '#688B8A', '#A0B084', '#FAEFD4','#A57C65', '#1aadce', '#492970', '#f28f43', '#77a1e5', '#c42525', '#a6c96a'];\r\n                if (typeof $(chartdata.container).data('chartcolor') != 'undefined') {\r\n                    chartcolors = ['#' + $(chartdata.container).data('chartcolor') + ''];\r\n                }\r\n                var chart = Highcharts.chart(chartdata.containerid, {\r\n                    chart: {\r\n                        type: charttype,\r\n                        height: chartdata.height || null,\r\n                        zoomType: 'x',\r\n                        styledMode: true\r\n                    },\r\n                    colors: chartcolors,\r\n                    credits: {\r\n                        enabled: false\r\n                    },\r\n                    title: {\r\n                        text: chartdata.title\r\n                    },\r\n                    xAxis: {\r\n                        categories: chartdata.categorydata,\r\n                        labels: {\r\n                            enabled: chartdata.datalabels == 1 ? true : false\r\n                        },\r\n                        title: {\r\n                            text: chartdata.ylabel\r\n                        }\r\n                    },\r\n                    yAxis: {\r\n\r\n                        title: {\r\n                            text: chartdata.pcalcs ? chartdata.pcalcs : chartdata.title                        }\r\n                    },\r\n                    plotOptions: {\r\n                        bar: {\r\n                            dataLabels: {\r\n                                enabled: chartdata.datalabels == 1 ? true : false,\r\n                                formatter: function () {\r\n                                  return this.point.label;\r\n                                }\r\n                            },\r\n                            enableMouseTracking: chartdata.datalabels == 1 ? false : true,\r\n                            borderRadius: 5\r\n                        },\r\n                        spline: {\r\n                            dataLabels: {\r\n                                enabled: chartdata.datalabels == 1 ? true : false,\r\n                                 formatter: function () {\r\n                                  return this.point.label;\r\n                                }\r\n                            },\r\n                            enableMouseTracking: chartdata.datalabels == 1 ? false : true\r\n                        },\r\n                        column: {\r\n                            stacking: chartdata.stacking,\r\n                            dataLabels: {\r\n                                enabled: chartdata.datalabels === 1 ? true : false,\r\n                                formatter: function () {\r\n                                  return this.point.label;\r\n                                }\r\n                            },\r\n                            enableMouseTracking: chartdata.datalabels === 1 ? false : true,\r\n                            borderRadius: 5\r\n                        }\r\n                    },\r\n                    tooltip: {\r\n                        pointFormatter: function () {\r\n                            return '<span style=\"color:' + this.series.color + ';\">\\u25CF</span> ' + this.series.name + ' - ' + this.label;\r\n                        }\r\n                    },\r\n                    credits: {\r\n                        enabled: true\r\n                    },\r\n                    legend: {\r\n                        enabled: chartdata.showlegend,\r\n                    },\r\n                    series: chartdata.data,\r\n                    responsive: {\r\n                        rules: [{\r\n                            condition: {\r\n                                maxWidth: 500\r\n                            },\r\n                            chartOptions: {\r\n                                legend: {\r\n                                    align: 'center',\r\n                                    verticalAlign: 'bottom',\r\n                                    layout: 'horizontal'\r\n                                },\r\n                                yAxis: {\r\n                                    labels: {\r\n                                        align: 'left',\r\n                                        x: 0,\r\n                                        y: 10\r\n                                    },\r\n                                    title: {\r\n                                        text: null\r\n                                    }\r\n                                },\r\n                                subtitle: {\r\n                                    text: null\r\n                                },\r\n                                credits: {\r\n                                    enabled: false\r\n                                }\r\n                            }\r\n                        }]\r\n                    }\r\n                });\r\n            },\r\n            //Combination chart with line,bar and pie\r\n            combinationchart: function(chartdata) {\r\n                var chartcolors = ['#90AFC5', '#336B87', '#FAEFD4','#A57C65', '#1aadce', '#492970', '#f28f43', '#77a1e5', '#c42525', '#a6c96a'];\r\n                if (typeof $(chartdata.container).data('chartcolor') != 'undefined') {\r\n                    chartcolors = ['#' + $(chartdata.container).data('chartcolor') + ''];\r\n                }\r\n                Highcharts.chart(chartdata.containerid, {\r\n                    zoomType: 'xy',\r\n                    title: {\r\n                        text: chartdata.title\r\n                    },\r\n                    colors: chartcolors,\r\n                    xAxis: {\r\n                        categories: chartdata.categorydata,\r\n                        crosshair: true,\r\n                        labels: {\r\n                            enabled: chartdata.datalabels == 1 ? true : false\r\n                        }\r\n                    },\r\n                     yAxis: [{\r\n                            title: {\r\n                                text: chartdata.name\r\n                            }\r\n                            }, {\r\n                                opposite: true, //optional, you can have it on the same side.\r\n                                title: {\r\n                                    text: chartdata.name\r\n                                }\r\n                            }],\r\n                    credits: {\r\n                        enabled: false\r\n                    },\r\n                    tooltip: {\r\n                        pointFormatter: function () {\r\n                            return '<span style=\"color:' + this.series.color + ';\">\\u25CF</span> ' + this.series.name + ' - ' + this.label;\r\n                        }\r\n                    },\r\n                    dataLabels: {\r\n                        enabled: chartdata.datalabels == 1 ? true : false,\r\n                        formatter: function () {\r\n                            return this.point.label;\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        enabled: chartdata.showlegend == 1 ? true : false\r\n                    },\r\n                    series: chartdata.data\r\n                });\r\n            },\r\n            WorldMap: function(chartdata) {\r\n                // Instanciate the map\r\n                Highcharts.mapChart(chartdata.containerid, {\r\n                    chart: {\r\n                        borderWidth: 1\r\n                    },\r\n                    colors: ['#07575B', '#66A5AD', '#C4DFE6','#003B46', 'rgba(19,64,117,0.6)', 'rgba(19,64,117,0.8)', 'rgba(19,64,117,1)'\r\n                    ],\r\n                    title: {\r\n                        text: chartdata.title\r\n                    },\r\n                    credits: {\r\n                        enabled: false\r\n                    },\r\n                    mapNavigation: {\r\n                        enabled: true,\r\n                        enableMouseWheelZoom: false,\r\n                        enableDoubleClickZoom: true\r\n                    },\r\n                    legend: {\r\n                        title: {\r\n                            text: chartdata.serieslabel,\r\n                            style: {\r\n                                color: (Highcharts.theme && Highcharts.theme.textColor) || 'black'\r\n                            }\r\n                        },\r\n                        align: 'left',\r\n                        verticalAlign: 'bottom',\r\n                        floating: true,\r\n                        layout: 'vertical',\r\n                        valueDecimals: 0,\r\n                        symbolRadius: 0,\r\n                        symbolHeight: 14\r\n                    },\r\n                    colorAxis: {\r\n                        dataClasses: [{\r\n                            to: 3\r\n                        }, {\r\n                            from: 3,\r\n                            to: 10\r\n                        }, {\r\n                            from: 10,\r\n                            to: 30\r\n                        }, {\r\n                            from: 30,\r\n                            to: 100\r\n                        }, {\r\n                            from: 100,\r\n                            to: 300\r\n                        }, {\r\n                            from: 300,\r\n                            to: 1000\r\n                        }, {\r\n                            from: 1000\r\n                        }]\r\n                    },\r\n                    series: [{\r\n                        data: chartdata.data,\r\n                        mapData: Highcharts.maps['custom/world'],\r\n                        joinBy: ['iso-a2', 'code'],\r\n                        name: chartdata.serieslabel,\r\n                        states: {\r\n                            hover: {\r\n                                color: '#a4edba'\r\n                            }\r\n                        },\r\n                        shadow: false\r\n                    }]\r\n                });\r\n            },\r\n            TreeMap: function(chartdata) {\r\n                // Instanciate the map\r\n                Highcharts.mapChart(chartdata.containerid, {\r\n                    credits: {\r\n                        enabled: false\r\n                    },\r\n                     title: {\r\n                        text: chartdata.title\r\n                    },\r\n                    series: [{\r\n                        type: \"treemap\",\r\n                        allowDrillToNode: true,\r\n                        layoutAlgorithm: 'squarified',\r\n                        events: {\r\n                            click: function(event) {\r\n                                $(\"#ls_courseid\").val(event.point.id);\r\n                                report.DashboardTiles();\r\n                                report.DashboardWidgets();\r\n                            }\r\n                        },\r\n                        levelIsConstant: false,\r\n                        levels: [{\r\n                            level: 1,\r\n                            dataLabels: {\r\n                                enabled: true,\r\n                                align: 'left',\r\n                                verticalAlign: 'top',\r\n                                style: {\r\n                                    fontSize: '11px'\r\n                                }\r\n                            }\r\n                        }],\r\n                        data: chartdata.data\r\n                    }]\r\n                });\r\n            },\r\n             SparkLines: function(chartdata) {\r\n            Highcharts.SparkLine = function(a, b, c) {\r\n                var hasRenderToArg = typeof a === 'string' || a.nodeName,\r\n                    options = arguments[hasRenderToArg ? 1 : 0],\r\n                    defaultOptions = {\r\n                        chart: {\r\n                            renderTo: (options.chart && options.chart.renderTo) || this,\r\n                            backgroundColor: null,\r\n                            borderWidth: 0,\r\n                            type: 'area',\r\n                            margin: [2, 0, 2, 0],\r\n                            width: 120,\r\n                            height: 100,\r\n                            style: {\r\n                                overflow: 'visible'\r\n                            },\r\n                            // small optimalization, saves 1-2 ms each sparkline\r\n                            skipClone: true\r\n                        },\r\n                        title: {\r\n                            text: ''\r\n                        },\r\n                        credits: {\r\n                            enabled: false\r\n                        },\r\n                        xAxis: {\r\n                            labels: {\r\n                                enabled: false\r\n                            },\r\n                            title: {\r\n                                text: null\r\n                            },\r\n                            startOnTick: false,\r\n                            endOnTick: false,\r\n                            tickPositions: []\r\n                        },\r\n                        yAxis: {\r\n                            endOnTick: false,\r\n                            startOnTick: false,\r\n                            labels: {\r\n                                enabled: false\r\n                            },\r\n                            title: {\r\n                                text: null\r\n                            },\r\n                            tickPositions: [0]\r\n                        },\r\n                        legend: {\r\n                            enabled: false\r\n                        },\r\n                        tooltip: {\r\n                            backgroundColor: null,\r\n                            borderWidth: 0,\r\n                            shadow: false,\r\n                            useHTML: true,\r\n                            hideDelay: 0,\r\n                            shared: true,\r\n                            padding: 0,\r\n                            positioner: function(w, h, point) {\r\n                                return {\r\n                                    x: point.plotX - w / 2,\r\n                                    y: point.plotY - h\r\n                                };\r\n                            }\r\n                        },\r\n                        plotOptions: {\r\n                            series: {\r\n                                animation: false,\r\n                                lineWidth: 1,\r\n                                shadow: false,\r\n                                states: {\r\n                                    hover: {\r\n                                        lineWidth: 1\r\n                                    }\r\n                                },\r\n                                marker: {\r\n                                    radius: 1,\r\n                                    states: {\r\n                                        hover: {\r\n                                            radius: 2\r\n                                        }\r\n                                    }\r\n                                },\r\n                                fillOpacity: 0.25\r\n                            },\r\n                            column: {\r\n                                negativeColor: '#910000',\r\n                                borderColor: 'silver',\r\n                                borderRadius: 15\r\n                            }\r\n                        }\r\n                    };\r\n                options = Highcharts.merge(defaultOptions, options);\r\n                return hasRenderToArg ? new Highcharts.Chart(a, options, c) : new Highcharts.Chart(options, b);\r\n            };\r\n        },\r\n        ProgressBar: function(chartdata) {\r\n            Highcharts.chart(chartdata.containerid, {\r\n                title: {\r\n                    text: chartdata.title\r\n                },\r\n                credits: {\r\n                    enabled: false\r\n                },\r\n                chart: {\r\n                    renderTo: chartdata.containerid,\r\n                    type: 'bar',\r\n                    height: chartdata.height || 15,\r\n                    backgroundColor: chartdata.backgroundColor || 'transparent',\r\n                    margin: chartdata.margin || null\r\n                },\r\n                plotOptions: {\r\n                    bar: { borderRadius: 5 },\r\n                    series: {\r\n                        cursor: 'pointer',\r\n                        point: {\r\n                            events: {\r\n                                click: function() {\r\n                                    if (typeof chartdata.data.link !== 'undefined') {\r\n                                        require('block_learnerscript/helper').ReportModelFromLink({\r\n                                            container: $(\"#\" + chartdata.containerid),\r\n                                            url: chartdata.data.link\r\n                                        });\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                    }\r\n                },\r\n                exporting: {\r\n                    enabled: false\r\n                },\r\n                credits: chartdata.credits || false,\r\n                tooltip: chartdata.tooltip || false,\r\n                legend: chartdata.legend || false,\r\n                xAxis: {\r\n                    visible: false,\r\n                },\r\n                yAxis: {\r\n                    visible: false,\r\n                    min: 0,\r\n                    max: 100,\r\n                },\r\n                series: [{\r\n                    data: [100],\r\n                    grouping: false,\r\n                    animation: false,\r\n                    enableMouseTracking: false,\r\n                    showInLegend: false,\r\n                    color: '#CCC',\r\n                    pointWidth: 15,\r\n                    dataLabels: {\r\n                        className: 'highlight',\r\n                        format: chartdata.format || null,\r\n                        enabled: false,\r\n                        align: 'left',\r\n                        style: {\r\n                            color: '#0294A5',\r\n                            textOutline: false,\r\n                            fontSize: '9px',\r\n                            fontWeight: 'normal'\r\n                        }\r\n                    }\r\n                }, {\r\n                    enableMouseTracking: true,\r\n                    data: chartdata.data || [0],\r\n                    color: '#0294A5',\r\n                    pointWidth: 15,\r\n                    animation: {\r\n                        duration: 250,\r\n                    },\r\n                    dataLabels: {\r\n                        enabled: true,\r\n                        inside: true,\r\n                        align: 'right',\r\n                        format: '{point.y}%',\r\n                        style: {\r\n                            color: '#FFF',\r\n                            textOutline: false,\r\n                            fontSize: '9px',\r\n                            fontWeight: 'normal'\r\n                        }\r\n                    }\r\n                }]\r\n            });\r\n        },\r\n        SparkLineReport: function() {\r\n            var start = +new Date(),\r\n                $tds = $('.spark-report'),\r\n                fullLen = $tds.length,\r\n                n = 0;\r\n            var time = +new Date(),\r\n                i,\r\n                $td,\r\n                len = $tds.length,\r\n                stringdata,\r\n                arr,\r\n                data,\r\n                chart;\r\n            for (i = 0; i < len; i += 1) {\r\n                $td = $($tds[i]);\r\n                stringdata = $td.data('sparkline');\r\n                stringLabels = $td.data('labels');\r\n                stringlink = $td.data('link');\r\n                arr = stringdata.split('; ');\r\n                datalabels = stringLabels.split(', ');\r\n                data = $.map(arr[0].split(', '), parseFloat);\r\n                data.link = stringlink;\r\n                chart = {};\r\n                if (arr[1]) {\r\n                    chart.type = arr[1];\r\n                }\r\n                chart.containerid = $td.attr('id');\r\n                chart.chartname = '';\r\n                chart.datalabels = false;\r\n                chart.showlegend = false;\r\n                chart.serieslabel = false;\r\n                chart.categorydata = $td.text();\r\n                switch (arr[1]) {\r\n                    case 'pie':\r\n                        chart.data = data;\r\n                        chart.width = '65',\r\n                            chart.height = '65';\r\n                        chart.margin = [0, 0, 0, 0],\r\n                            this.piechart(chart);\r\n                        break;\r\n                    case 'spline':\r\n                    case 'bar':\r\n                    case 'column':\r\n                    case 'stacked':\r\n                        chart.data = {\r\n                            data: data,\r\n                            name: $td.data('name'),\r\n                            type: 'bar'\r\n                        };\r\n                        chart.serieslabel = $td.data('serieslabel');\r\n                        chart.title = $td.data('title');\r\n                        this.lbchart(chart);\r\n                        break;\r\n                    case 'progressbar':\r\n                        chart.data = data;\r\n                        chart.title = $td.data('title');\r\n                        chart.width = '100',\r\n                            chart.height = '15';\r\n                        chart.margin = [0, 0, 0, 0];\r\n\r\n                        this.ProgressBar(chart);\r\n                        break;\r\n                    default:\r\n                        this.SparkLines();\r\n                        Highcharts.SparkLine($td.attr('id'), {\r\n                            title: {\r\n                                text: ''\r\n                            },\r\n                            credits: {\r\n                                enabled: false\r\n                            },\r\n                            series: [{\r\n                                data: data,\r\n                                pointStart: 1,\r\n                                dataLabels: {\r\n                                    enabled: false\r\n                                }\r\n                            }],\r\n                            tooltip: {\r\n                                headerFormat: '<span style=\"font-size: 10px\">' + $td.parent().find('th').html() + '<br/> Q{point.x}: </span>',\r\n                                pointFormat: ' <b>{point.y}</b>'\r\n                            },\r\n                            chart: chart\r\n                        });\r\n                        break;\r\n                }\r\n                n += 1;\r\n                // If the process takes too much time, run a timeout to allow interaction with the browser\r\n                if (new Date() - time > 500) {\r\n                    $tds.splice(0, i + 1);\r\n                    setTimeout(this.SparkLineReport, 0);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        }\r\n    });\r\n"],"names":["define","$","Ajax","Highcharts","smartfilter","report","chart","HighchartsAjax","args","cols","JSON","stringify","instanceid","reportid","filters","FilterData","basicparams","BasicparamsData","val","filter_courses","promise","call","methodname","show","html","M","util","image_url","done","response","parse","plot","error","reportinstance","data","length","require","generate_plotgraph","piechart","chartdata","containerid","plotBackgroundColor","plotBorderWidth","plotShadow","type","width","height","margin","credits","enabled","title","text","tooltip","pointFormat","plotOptions","pie","allowPointSelect","cursor","shadow","dataLabels","datalabels","showInLegend","showlegend","series","name","serieslabel","colorByPoint","lbchart","charttype","chartcolors","container","zoomType","styledMode","colors","xAxis","categories","categorydata","labels","ylabel","yAxis","pcalcs","bar","formatter","this","point","label","enableMouseTracking","borderRadius","spline","column","stacking","pointFormatter","color","legend","responsive","rules","condition","maxWidth","chartOptions","align","verticalAlign","layout","x","y","subtitle","combinationchart","crosshair","opposite","WorldMap","mapChart","borderWidth","mapNavigation","enableMouseWheelZoom","enableDoubleClickZoom","style","theme","textColor","floating","valueDecimals","symbolRadius","symbolHeight","colorAxis","dataClasses","to","from","mapData","maps","joinBy","states","hover","TreeMap","allowDrillToNode","layoutAlgorithm","events","click","event","id","DashboardTiles","DashboardWidgets","levelIsConstant","levels","level","fontSize","SparkLines","SparkLine","a","b","c","hasRenderToArg","nodeName","options","arguments","defaultOptions","renderTo","backgroundColor","overflow","skipClone","startOnTick","endOnTick","tickPositions","useHTML","hideDelay","shared","padding","positioner","w","h","plotX","plotY","animation","lineWidth","marker","radius","fillOpacity","negativeColor","borderColor","merge","Chart","ProgressBar","link","ReportModelFromLink","url","exporting","visible","min","max","grouping","pointWidth","className","format","textOutline","fontWeight","duration","inside","SparkLineReport","Date","i","$td","stringdata","arr","$tds","time","len","stringLabels","stringlink","split","map","parseFloat","attr","chartname","pointStart","headerFormat","parent","find","splice","setTimeout"],"mappings":"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"}